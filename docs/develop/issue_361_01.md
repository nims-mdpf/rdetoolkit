# Issue #361 - Task 01: Create Custom Exception Class for Config Errors

## Overview
Create a custom exception class `ConfigError` to provide structured, informative error messages for configuration file loading failures. This exception class will include file path, error type, and documentation link support.

## Related Information
- **Input Source**: `/Users/sonokawa/github/rdetoolkit-worktrees/develop-v152_361/local/develop/issue_361.md`
- **Overview Document**: `docs/develop/issue_361_overview.md`
- **Dependencies**: None (foundation task)

## Target Files
- [x] `src/rdetoolkit/exceptions.py` (add ConfigError class)
- [x] `src/rdetoolkit/exceptions.pyi` (type stub)

## Implementation Steps

### Step 1: Define ConfigError exception class
Create a new exception class that extends the existing exception infrastructure.

**Location**: Add to `src/rdetoolkit/exceptions/__init__.py`

```python
class ConfigError(Exception):
    """Exception raised for configuration file loading errors.

    Attributes:
        message: The error message
        file_path: Path to the configuration file that failed
        error_type: Type of error (e.g., 'file_not_found', 'parse_error', 'validation_error')
        line_number: Line number where error occurred (for parse errors)
        column_number: Column number where error occurred (for parse errors)
        field_name: Field name that failed validation (for validation errors)
        doc_url: Documentation URL for help
    """

    def __init__(
        self,
        message: str,
        *,
        file_path: str | None = None,
        error_type: str = "unknown",
        line_number: int | None = None,
        column_number: int | None = None,
        field_name: str | None = None,
        doc_url: str = "https://nims-mdpf.github.io/rdetoolkit/usage/config/config/",
    ) -> None:
        """Initialize ConfigError with detailed information.

        Args:
            message: The error message
            file_path: Path to the configuration file
            error_type: Type of error
            line_number: Line number for parse errors
            column_number: Column number for parse errors
            field_name: Field name for validation errors
            doc_url: Documentation URL for help
        """
        self.message = message
        self.file_path = file_path
        self.error_type = error_type
        self.line_number = line_number
        self.column_number = column_number
        self.field_name = field_name
        self.doc_url = doc_url

        # Build comprehensive error message
        parts = []
        if file_path:
            parts.append(f"Configuration file: '{file_path}'")

        parts.append(message)

        if line_number is not None:
            location = f"line {line_number}"
            if column_number is not None:
                location += f", column {column_number}"
            parts.append(f"Location: {location}")

        if field_name:
            parts.append(f"Field: {field_name}")

        parts.append(f"See: {doc_url}")

        full_message = "\n".join(parts)
        super().__init__(full_message)
```

### Step 2: Add type stub
Add type stub to `src/rdetoolkit/exceptions/__init__.pyi`

```python
class ConfigError(Exception):
    message: str
    file_path: str | None
    error_type: str
    line_number: int | None
    column_number: int | None
    field_name: str | None
    doc_url: str

    def __init__(
        self,
        message: str,
        *,
        file_path: str | None = None,
        error_type: str = "unknown",
        line_number: int | None = None,
        column_number: int | None = None,
        field_name: str | None = None,
        doc_url: str = "https://nims-mdpf.github.io/rdetoolkit/usage/config/config/",
    ) -> None: ...
```

### Step 3: Export ConfigError
Update exports in `src/rdetoolkit/exceptions/__init__.py`:

```python
__all__ = [
    # ... existing exports ...
    "ConfigError",
]
```

## Completion Criteria
- [x] ConfigError class implemented with all required attributes
- [x] Error message formatting includes file path, location, and documentation link
- [x] Type stub created for ConfigError
- [x] ConfigError exported from exceptions module (via lazy loading)
- [x] No new type errors (`tox -e mypy`)
- [x] Code follows project style (`tox -e ruff`)

## Notes
- This is a foundation task - all subsequent tasks depend on this exception class
- The documentation URL is centralized here for consistency
- Error message format is standardized for all config-related errors
- The exception class supports optional attributes to accommodate different error types
