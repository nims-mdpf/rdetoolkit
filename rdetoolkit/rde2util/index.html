
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../workflows/" rel="prev"/>
<link href="../invoicefile/" rel="next"/>
<link href="../../img/2585322.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.38" name="generator"/>
<title>rde2util Module - RDEToolKit Documentation</title>
<link href="../../assets/stylesheets/main.8c3ca2c6.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Noto+Sans+JP:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Noto Sans JP";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#rde2util-module">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="RDEToolKit Documentation" class="md-header__button md-logo" data-md-component="logo" href="../.." title="RDEToolKit Documentation">
<img alt="logo" src="../../img/2585322.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            RDEToolKit Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              rde2util Module
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/nims-dpfc/rdetoolkit" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    nims-dpfc/rdetoolkit
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          
  
  Getting started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../install/">
          
  
  Installation

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../usage/quickstart/">
          
  
  User Guide

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  API Documentation

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../contribute/home/">
          
  
  Development

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="RDEToolKit Documentation" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="RDEToolKit Documentation">
<img alt="logo" src="../../img/2585322.png"/>
</a>
    RDEToolKit Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/nims-dpfc/rdetoolkit" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    nims-dpfc/rdetoolkit
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-ellipsis">
    Getting started
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    RDEToolKit
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    Installation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Installation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../install/">
<span class="md-ellipsis">
    インストール方法
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    User Guide
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    Quick Start
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/quickstart/">
<span class="md-ellipsis">
    クイックスタート
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    構造化処理
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            構造化処理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/structured_process/structured/">
<span class="md-ellipsis">
    構造化処理を構築する
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/structured_process/directory/">
<span class="md-ellipsis">
    サポートするディレクトリ
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/structured_process/rdepath/">
<span class="md-ellipsis">
    構造化ディレクトリパスの取得
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/structured_process/errorhandling/">
<span class="md-ellipsis">
    構造化処理のエラーハンドリング
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/structured_process/feature_description/">
<span class="md-ellipsis">
    データタイル説明欄への自動記述について
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-ellipsis">
    コマンドライン機能
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            コマンドライン機能
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/cli/">
<span class="md-ellipsis">
    コマンドライン機能について
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-ellipsis">
    設定ファイル
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            設定ファイル
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/config/config/">
<span class="md-ellipsis">
    RDEToolKit設定ファイル
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/config/mode/">
<span class="md-ellipsis">
    RDEToolKitのデータ登録モード
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/config/file_folder_mode/">
<span class="md-ellipsis">
    圧縮ファイルの形式について
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/config/magic_variable/">
<span class="md-ellipsis">
    Magic Variableによるデータ登録について
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-ellipsis">
    テンプレートファイル
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            テンプレートファイル
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/metadata_definition_file/">
<span class="md-ellipsis">
    テンプレートファイル
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    バリデーション
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            バリデーション
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/validation/">
<span class="md-ellipsis">
    バリデーション機能
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-ellipsis">
    オブジェクトストレージを使用する
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            オブジェクトストレージを使用する
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/object_storage/">
<span class="md-ellipsis">
    rdetolkitでオブジェクトストレージ(MinIO)を利用する方法
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
<span class="md-ellipsis">
    Docker
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
            Docker
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/docker/">
<span class="md-ellipsis">
    Using RDEToolKit with Docker
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    API Documentation
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            API Documentation
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    RDE Toolkit API Documentation
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
<span class="md-ellipsis">
    impl
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            impl
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../impl/compressed_controller/">
<span class="md-ellipsis">
    Compressed Controller Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../impl/input_controller/">
<span class="md-ellipsis">
    Input Controller Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
<span class="md-ellipsis">
    interface
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            interface
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../interface/filechecker/">
<span class="md-ellipsis">
    File Checker Interfaces Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
<span class="md-ellipsis">
    models
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            models
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../models/invoice_schema/">
<span class="md-ellipsis">
    Invoice Schema Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../models/metadata/">
<span class="md-ellipsis">
    Metadata Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../models/rde2types/">
<span class="md-ellipsis">
    RDE2 Types Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
<span class="md-ellipsis">
    storage
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            storage
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../storage/minio/">
<span class="md-ellipsis">
    MinIO Storage
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
<span class="md-ellipsis">
    core module
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
            core module
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../core/">
<span class="md-ellipsis">
    Core Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../config/">
<span class="md-ellipsis">
    Configuration Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../workflows/">
<span class="md-ellipsis">
    Workflows Module
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    rde2util Module
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    rde2util Module
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classes">
<span class="md-ellipsis">
      Classes
    </span>
</a>
<nav aria-label="Classes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#meta">
<span class="md-ellipsis">
      Meta
    </span>
</a>
<nav aria-label="Meta" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#constructor">
<span class="md-ellipsis">
      Constructor
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#attributes">
<span class="md-ellipsis">
      Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#assign_vals">
<span class="md-ellipsis">
      assign_vals
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writefile">
<span class="md-ellipsis">
      writefile
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata_validation">
<span class="md-ellipsis">
      metadata_validation
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storagedir">
<span class="md-ellipsis">
      StorageDir
    </span>
</a>
<nav aria-label="StorageDir" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#class-attributes">
<span class="md-ellipsis">
      Class Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_1">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_datadir">
<span class="md-ellipsis">
      get_datadir
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_specific_outputdir">
<span class="md-ellipsis">
      get_specific_outputdir
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chardecencoding">
<span class="md-ellipsis">
      CharDecEncoding
    </span>
</a>
<nav aria-label="CharDecEncoding" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#class-attributes_1">
<span class="md-ellipsis">
      Class Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_2">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#detect_text_file_encoding">
<span class="md-ellipsis">
      detect_text_file_encoding
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#valuecaster">
<span class="md-ellipsis">
      ValueCaster
    </span>
</a>
<nav aria-label="ValueCaster" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_3">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#trycast">
<span class="md-ellipsis">
      trycast
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#convert_to_date_format">
<span class="md-ellipsis">
      convert_to_date_format
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions">
<span class="md-ellipsis">
      Functions
    </span>
</a>
<nav aria-label="Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_default_values">
<span class="md-ellipsis">
      get_default_values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unzip_japanese_zip">
<span class="md-ellipsis">
      unzip_japanese_zip
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#castval">
<span class="md-ellipsis">
      castval
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dict2meta">
<span class="md-ellipsis">
      dict2meta
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deprecated-functions">
<span class="md-ellipsis">
      Deprecated Functions
    </span>
</a>
<nav aria-label="Deprecated Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#read_from_json_file">
<span class="md-ellipsis">
      read_from_json_file
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write_to_json_file">
<span class="md-ellipsis">
      write_to_json_file
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-usage-examples">
<span class="md-ellipsis">
      Complete Usage Examples
    </span>
</a>
<nav aria-label="Complete Usage Examples" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#comprehensive-metadata-processing-pipeline">
<span class="md-ellipsis">
      Comprehensive Metadata Processing Pipeline
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-value-processing-and-unit-handling">
<span class="md-ellipsis">
      Advanced Value Processing and Unit Handling
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#error-handling">
<span class="md-ellipsis">
      Error Handling
    </span>
</a>
<nav aria-label="Error Handling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#exception-types">
<span class="md-ellipsis">
      Exception Types
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices-for-error-handling">
<span class="md-ellipsis">
      Best Practices for Error Handling
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-notes">
<span class="md-ellipsis">
      Performance Notes
    </span>
</a>
<nav aria-label="Performance Notes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#optimization-strategies">
<span class="md-ellipsis">
      Optimization Strategies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-best-practices">
<span class="md-ellipsis">
      Performance Best Practices
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#see-also">
<span class="md-ellipsis">
      See Also
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../invoicefile/">
<span class="md-ellipsis">
    Invoice File Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../modeproc/">
<span class="md-ellipsis">
    Mode Processing Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../validation/">
<span class="md-ellipsis">
    Validation Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../img2thumb/">
<span class="md-ellipsis">
    Image to Thumbnail Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../rdelogger/">
<span class="md-ellipsis">
    RDE Logger Module
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../exceptions/">
<span class="md-ellipsis">
    Exceptions Module
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Development
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../contribute/home/">
<span class="md-ellipsis">
    Top
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contribute/documents_contributing/">
<span class="md-ellipsis">
    Documents
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contribute/sourcecode_contributing/">
<span class="md-ellipsis">
    Source Code
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#overview">
<span class="md-ellipsis">
      Overview
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classes">
<span class="md-ellipsis">
      Classes
    </span>
</a>
<nav aria-label="Classes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#meta">
<span class="md-ellipsis">
      Meta
    </span>
</a>
<nav aria-label="Meta" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#constructor">
<span class="md-ellipsis">
      Constructor
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#attributes">
<span class="md-ellipsis">
      Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#assign_vals">
<span class="md-ellipsis">
      assign_vals
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#writefile">
<span class="md-ellipsis">
      writefile
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata_validation">
<span class="md-ellipsis">
      metadata_validation
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storagedir">
<span class="md-ellipsis">
      StorageDir
    </span>
</a>
<nav aria-label="StorageDir" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#class-attributes">
<span class="md-ellipsis">
      Class Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_1">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_datadir">
<span class="md-ellipsis">
      get_datadir
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get_specific_outputdir">
<span class="md-ellipsis">
      get_specific_outputdir
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chardecencoding">
<span class="md-ellipsis">
      CharDecEncoding
    </span>
</a>
<nav aria-label="CharDecEncoding" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#class-attributes_1">
<span class="md-ellipsis">
      Class Attributes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_2">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#detect_text_file_encoding">
<span class="md-ellipsis">
      detect_text_file_encoding
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#valuecaster">
<span class="md-ellipsis">
      ValueCaster
    </span>
</a>
<nav aria-label="ValueCaster" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#methods_3">
<span class="md-ellipsis">
      Methods
    </span>
</a>
<nav aria-label="Methods" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#trycast">
<span class="md-ellipsis">
      trycast
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#convert_to_date_format">
<span class="md-ellipsis">
      convert_to_date_format
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#functions">
<span class="md-ellipsis">
      Functions
    </span>
</a>
<nav aria-label="Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#get_default_values">
<span class="md-ellipsis">
      get_default_values
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#unzip_japanese_zip">
<span class="md-ellipsis">
      unzip_japanese_zip
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#castval">
<span class="md-ellipsis">
      castval
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dict2meta">
<span class="md-ellipsis">
      dict2meta
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#deprecated-functions">
<span class="md-ellipsis">
      Deprecated Functions
    </span>
</a>
<nav aria-label="Deprecated Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#read_from_json_file">
<span class="md-ellipsis">
      read_from_json_file
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#write_to_json_file">
<span class="md-ellipsis">
      write_to_json_file
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#complete-usage-examples">
<span class="md-ellipsis">
      Complete Usage Examples
    </span>
</a>
<nav aria-label="Complete Usage Examples" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#comprehensive-metadata-processing-pipeline">
<span class="md-ellipsis">
      Comprehensive Metadata Processing Pipeline
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-value-processing-and-unit-handling">
<span class="md-ellipsis">
      Advanced Value Processing and Unit Handling
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#error-handling">
<span class="md-ellipsis">
      Error Handling
    </span>
</a>
<nav aria-label="Error Handling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#exception-types">
<span class="md-ellipsis">
      Exception Types
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices-for-error-handling">
<span class="md-ellipsis">
      Best Practices for Error Handling
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-notes">
<span class="md-ellipsis">
      Performance Notes
    </span>
</a>
<nav aria-label="Performance Notes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#optimization-strategies">
<span class="md-ellipsis">
      Optimization Strategies
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-best-practices">
<span class="md-ellipsis">
      Performance Best Practices
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#see-also">
<span class="md-ellipsis">
      See Also
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="rde2util-module">rde2util Module</h1>
<p>The <code>rdetoolkit.rde2util</code> module provides essential utility functions and classes for RDE (Research Data Exchange) data processing and manipulation. This module includes metadata handling, file encoding detection, storage directory management, and various data conversion utilities.</p>
<h2 id="overview">Overview</h2>
<p>The rde2util module offers comprehensive utilities for RDE processing workflows:</p>
<ul>
<li><strong>Metadata Management</strong>: Creation, validation, and processing of metadata structures</li>
<li><strong>Storage Directory Operations</strong>: Organized directory creation and management for RDE data</li>
<li><strong>Character Encoding Detection</strong>: Robust encoding detection for text files, including Japanese encodings</li>
<li><strong>Data Type Conversion</strong>: Flexible value casting and format conversion utilities</li>
<li><strong>ZIP File Handling</strong>: Specialized ZIP extraction for Japanese-encoded file names</li>
<li><strong>JSON Operations</strong>: Convenient JSON file reading and writing with encoding support</li>
<li><strong>Value Processing</strong>: Unit-value pair splitting and conversion utilities</li>
</ul>
<h2 id="classes">Classes</h2>
<h3 id="meta">Meta</h3>
<p>A comprehensive class for initializing, processing, and managing metadata from definition files.</p>
<h4 id="constructor">Constructor</h4>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code>Meta(metadef_filepath: RdeFsPath, <span style="color: #333333">*</span>, metafilepath: RdeFsPath <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">None</span>)
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>metadef_filepath</code> (RdeFsPath): Path to the metadata definition file (metadata-def.json)
- <code>metafilepath</code> (RdeFsPath | None): Path to existing metadata file (currently not supported)</p>
<p><strong>Raises:</strong>
- <code>StructuredError</code>: If <code>metafilepath</code> is provided (loading existing metadata not supported)</p>
<h4 id="attributes">Attributes</h4>
<ul>
<li><code>metaConst</code> (dict[str, MetaItem]): Dictionary for constant metadata</li>
<li><code>metaVar</code> (list[dict[str, MetaItem]]): List of dictionaries for variable metadata</li>
<li><code>actions</code> (list[str]): List of metadata actions</li>
<li><code>referedmap</code> (dict[str, str | list | None]): Dictionary mapping references</li>
<li><code>metaDef</code> (dict[str, MetadataDefJson]): Metadata definition loaded from file</li>
</ul>
<h4 id="methods">Methods</h4>
<h5 id="assign_vals">assign_vals</h5>
<p>Register and validate metadata values according to the metadata definition.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">6</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">assign_vals</span>(
    <span style="color: #007020">self</span>,
    entry_dict_meta: MetaType <span style="color: #333333">|</span> RepeatedMetaType,
    <span style="color: #333333">*</span>,
    ignore_empty_strvalue: <span style="color: #007020">bool</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">True</span>,
) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">set</span>]
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>entry_dict_meta</code> (MetaType | RepeatedMetaType): Metadata key-value pairs to register
- <code>ignore_empty_strvalue</code> (bool): Whether to ignore empty string values (default: True)</p>
<p><strong>Returns:</strong>
- <code>dict[str, set]</code>: Dictionary with 'assigned' and 'unknown' keys containing sets of processed keys</p>
<p><strong>Raises:</strong>
- <code>StructuredError</code>: If 'action' is included in the metadata definition</p>
<p><strong>Functionality:</strong>
- Validates and casts input metadata values according to metadata-def.json specifications
- Handles both constant and variable metadata types
- Processes unit references and action definitions
- Excludes None values from assignment</p>
<h5 id="writefile">writefile</h5>
<p>Write processed metadata to a file after handling units and actions.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">writefile</span>(<span style="color: #007020">self</span>, meta_filepath: <span style="color: #007020">str</span>, enc: <span style="color: #007020">str</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">"utf_8"</span>) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, Any]
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>meta_filepath</code> (str): Output file path for metadata
- <code>enc</code> (str): File encoding (default: "utf_8")</p>
<p><strong>Returns:</strong>
- <code>dict[str, Any]</code>: Dictionary with 'assigned' and 'unknown' keys showing processing results</p>
<p><strong>Functionality:</strong>
- Processes units and actions for each metadata entry
- Sorts items according to metadata definition order
- Outputs structured JSON with constant and variable sections
- Returns summary of assigned vs. unassigned metadata keys</p>
<h5 id="metadata_validation">metadata_validation</h5>
<p>Cast and validate metadata values according to specified formats.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">8</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">metadata_validation</span>(
    <span style="color: #007020">self</span>,
    vsrc: <span style="color: #007020">str</span>,
    outtype: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>,
    outfmt: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>,
    orgtype: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>,
    outunit: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>,
) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">bool</span> <span style="color: #333333">|</span> <span style="color: #007020">int</span> <span style="color: #333333">|</span> <span style="color: #007020">float</span> <span style="color: #333333">|</span> <span style="color: #007020">str</span>]
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>vsrc</code> (str): Input metadata value
- <code>outtype</code> (str | None): Target data type
- <code>outfmt</code> (str | None): Target format (for dates)
- <code>orgtype</code> (str | None): Original data type
- <code>outunit</code> (str | None): Unit specification</p>
<p><strong>Returns:</strong>
- <code>dict[str, bool | int | float | str]</code>: Validated metadata with value and optional unit</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> Meta
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">json</span>

<span style="color: #888888"># Create metadata processor</span>
meta <span style="color: #333333">=</span> Meta(<span style="background-color: #fff0f0">"data/tasksupport/metadata-def.json"</span>)

<span style="color: #888888"># Prepare metadata to register</span>
const_metadata <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"title"</span>: <span style="background-color: #fff0f0">"Sample Dataset"</span>,
    <span style="background-color: #fff0f0">"description"</span>: <span style="background-color: #fff0f0">"A comprehensive research dataset"</span>,
    <span style="background-color: #fff0f0">"creator"</span>: <span style="background-color: #fff0f0">"Research Team"</span>,
    <span style="background-color: #fff0f0">"created"</span>: <span style="background-color: #fff0f0">"2024-01-01T00:00:00Z"</span>,
    <span style="background-color: #fff0f0">"keywords"</span>: [<span style="background-color: #fff0f0">"research"</span>, <span style="background-color: #fff0f0">"data"</span>, <span style="background-color: #fff0f0">"analysis"</span>]
}

variable_metadata <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"temperature"</span>: [<span style="background-color: #fff0f0">"25.5"</span>, <span style="background-color: #fff0f0">"26.1"</span>, <span style="background-color: #fff0f0">"24.8"</span>],
    <span style="background-color: #fff0f0">"pressure"</span>: [<span style="background-color: #fff0f0">"1013.25"</span>, <span style="background-color: #fff0f0">"1012.8"</span>, <span style="background-color: #fff0f0">"1014.1"</span>],
    <span style="background-color: #fff0f0">"humidity"</span>: [<span style="background-color: #fff0f0">"65"</span>, <span style="background-color: #fff0f0">"67"</span>, <span style="background-color: #fff0f0">"63"</span>]
}

<span style="color: #888888"># Register metadata</span>
const_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(const_metadata)
var_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(variable_metadata)

<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Constant metadata assigned: </span><span style="background-color: #eeeeee">{</span>const_result[<span style="background-color: #fff0f0">'assigned'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Variable metadata assigned: </span><span style="background-color: #eeeeee">{</span>var_result[<span style="background-color: #fff0f0">'assigned'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Write metadata to file</span>
output_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>writefile(<span style="background-color: #fff0f0">"data/meta/metadata.json"</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Total assigned keys: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(output_result[<span style="background-color: #fff0f0">'assigned'</span>])<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Unassigned keys: </span><span style="background-color: #eeeeee">{</span>output_result[<span style="background-color: #fff0f0">'unknown'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Example with unit handling</span>
measurement_data <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"temperature"</span>: <span style="background-color: #fff0f0">"25.5°C"</span>,
    <span style="background-color: #fff0f0">"pressure"</span>: <span style="background-color: #fff0f0">"1013.25hPa"</span>,
    <span style="background-color: #fff0f0">"distance"</span>: <span style="background-color: #fff0f0">"150.5m"</span>
}

measurement_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(measurement_data)
meta<span style="color: #333333">.</span>writefile(<span style="background-color: #fff0f0">"data/meta/measurements.json"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="storagedir">StorageDir</h3>
<p>A class for handling storage directory operations with support for indexed data organization.</p>
<p><strong>Note:</strong> This class is deprecated. Use <code>rdetoolkit.core.DirectoryOps</code> instead.</p>
<h4 id="class-attributes">Class Attributes</h4>
<ul>
<li><code>__nDigit</code> (int): Number of digits for divided data index (fixed value: 4)</li>
</ul>
<h4 id="methods_1">Methods</h4>
<h5 id="get_datadir">get_datadir</h5>
<p>Generate a data directory path based on index and optionally create it.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #555555; font-weight: bold">@classmethod</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">get_datadir</span>(<span style="color: #007020">cls</span>, is_mkdir: <span style="color: #007020">bool</span>, idx: <span style="color: #007020">int</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>) <span style="color: #333333">-&gt;</span> <span style="color: #007020">str</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>is_mkdir</code> (bool): Whether to create the directory
- <code>idx</code> (int): Index for divided data (0 for base directory)</p>
<p><strong>Returns:</strong>
- <code>str</code>: Path of the generated data directory</p>
<p><strong>Deprecation Warning:</strong> Use <code>rdetoolkit.core.DirectoryOps</code> instead.</p>
<h5 id="get_specific_outputdir">get_specific_outputdir</h5>
<p>Generate and optionally create specific output directories.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #555555; font-weight: bold">@classmethod</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">get_specific_outputdir</span>(<span style="color: #007020">cls</span>, is_mkdir: <span style="color: #007020">bool</span>, dir_basename: <span style="color: #007020">str</span>, idx: <span style="color: #007020">int</span> <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>) <span style="color: #333333">-&gt;</span> pathlib<span style="color: #333333">.</span>Path
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>is_mkdir</code> (bool): Whether to create the directory
- <code>dir_basename</code> (str): Base name of the specific output directory
- <code>idx</code> (int): Index for divided data</p>
<p><strong>Returns:</strong>
- <code>pathlib.Path</code>: Path of the specific output directory</p>
<p><strong>Supported Directory Types:</strong>
- invoice, invoice_patch, inputdata, structured, temp, logs
- meta, thumbnail, main_image, other_image, attachment
- nonshared_raw, raw, tasksupport</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> StorageDir
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">warnings</span>

<span style="color: #888888"># Suppress deprecation warnings for demonstration</span>
warnings<span style="color: #333333">.</span>filterwarnings(<span style="background-color: #fff0f0">"ignore"</span>, category<span style="color: #333333">=</span><span style="color: #FF0000; font-weight: bold">DeprecationWarning</span>)

<span style="color: #888888"># Create base data directory</span>
base_dir <span style="color: #333333">=</span> StorageDir<span style="color: #333333">.</span>get_datadir(is_mkdir<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, idx<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">0</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Base directory: </span><span style="background-color: #eeeeee">{</span>base_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)  <span style="color: #888888"># "data"</span>

<span style="color: #888888"># Create indexed data directory</span>
indexed_dir <span style="color: #333333">=</span> StorageDir<span style="color: #333333">.</span>get_datadir(is_mkdir<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, idx<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Indexed directory: </span><span style="background-color: #eeeeee">{</span>indexed_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)  <span style="color: #888888"># "data/divided/0001"</span>

<span style="color: #888888"># Create specific output directories</span>
invoice_dir <span style="color: #333333">=</span> StorageDir<span style="color: #333333">.</span>get_specific_outputdir(<span style="color: #008800; font-weight: bold">True</span>, <span style="background-color: #fff0f0">"invoice"</span>, idx<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">0</span>)
logs_dir <span style="color: #333333">=</span> StorageDir<span style="color: #333333">.</span>get_specific_outputdir(<span style="color: #008800; font-weight: bold">True</span>, <span style="background-color: #fff0f0">"logs"</span>, idx<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span>)
meta_dir <span style="color: #333333">=</span> StorageDir<span style="color: #333333">.</span>get_specific_outputdir(<span style="color: #008800; font-weight: bold">True</span>, <span style="background-color: #fff0f0">"meta"</span>, idx<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">2</span>)

<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Invoice directory: </span><span style="background-color: #eeeeee">{</span>invoice_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Logs directory: </span><span style="background-color: #eeeeee">{</span>logs_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Meta directory: </span><span style="background-color: #eeeeee">{</span>meta_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="chardecencoding">CharDecEncoding</h3>
<p>A utility class for character encoding detection and conversion, with special support for Japanese text files.</p>
<h4 id="class-attributes_1">Class Attributes</h4>
<ul>
<li><code>USUAL_ENCs</code> (tuple): Common encodings ("ascii", "shift_jis", "utf_8", "utf_8_sig", "euc_jp")</li>
</ul>
<h4 id="methods_2">Methods</h4>
<h5 id="detect_text_file_encoding">detect_text_file_encoding</h5>
<p>Detect the encoding of a text file with enhanced Japanese support.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #555555; font-weight: bold">@classmethod</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">detect_text_file_encoding</span>(<span style="color: #007020">cls</span>, text_filepath: RdeFsPath) <span style="color: #333333">-&gt;</span> <span style="color: #007020">str</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>text_filepath</code> (RdeFsPath): Path to the text file to analyze</p>
<p><strong>Returns:</strong>
- <code>str</code>: Detected encoding of the text file</p>
<p><strong>Raises:</strong>
- <code>FileNotFoundError</code>: If the file path does not exist</p>
<p><strong>Features:</strong>
- Uses charset_normalizer for initial detection
- Falls back to chardet for thorough analysis
- Handles Japanese encodings (Shift JIS → cp932 conversion)
- Normalizes encoding names for consistency</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> CharDecEncoding
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path

<span style="color: #888888"># Detect encoding of various text files</span>
files_to_check <span style="color: #333333">=</span> [
    <span style="background-color: #fff0f0">"data/input/japanese_text.txt"</span>,
    <span style="background-color: #fff0f0">"data/input/english_text.txt"</span>,
    <span style="background-color: #fff0f0">"data/input/mixed_encoding.csv"</span>
]

<span style="color: #008800; font-weight: bold">for</span> file_path <span style="color: #000000; font-weight: bold">in</span> files_to_check:
    <span style="color: #008800; font-weight: bold">if</span> Path(file_path)<span style="color: #333333">.</span>exists():
        <span style="color: #008800; font-weight: bold">try</span>:
            encoding <span style="color: #333333">=</span> CharDecEncoding<span style="color: #333333">.</span>detect_text_file_encoding(file_path)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>file_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>encoding<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #888888"># Read file with detected encoding</span>
            <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(file_path, <span style="background-color: #fff0f0">'r'</span>, encoding<span style="color: #333333">=</span>encoding) <span style="color: #008800; font-weight: bold">as</span> f:
                content <span style="color: #333333">=</span> f<span style="color: #333333">.</span>read()
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Successfully read </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(content)<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> characters"</span>)

        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">FileNotFoundError</span>:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>file_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: File not found"</span>)
        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>file_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: Error - </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Batch encoding detection</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">detect_encodings_in_directory</span>(directory_path: Path) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>]:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Detect encodings for all text files in a directory."""</span>
    results <span style="color: #333333">=</span> {}

    <span style="color: #008800; font-weight: bold">for</span> file_path <span style="color: #000000; font-weight: bold">in</span> directory_path<span style="color: #333333">.</span>glob(<span style="background-color: #fff0f0">"*.txt"</span>):
        <span style="color: #008800; font-weight: bold">try</span>:
            encoding <span style="color: #333333">=</span> CharDecEncoding<span style="color: #333333">.</span>detect_text_file_encoding(file_path)
            results[<span style="color: #007020">str</span>(file_path)] <span style="color: #333333">=</span> encoding
        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            results[<span style="color: #007020">str</span>(file_path)] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">f"Error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>

    <span style="color: #008800; font-weight: bold">return</span> results

<span style="color: #888888"># Usage</span>
input_dir <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/input"</span>)
<span style="color: #008800; font-weight: bold">if</span> input_dir<span style="color: #333333">.</span>exists():
    encoding_results <span style="color: #333333">=</span> detect_encodings_in_directory(input_dir)
    <span style="color: #008800; font-weight: bold">for</span> file_path, encoding <span style="color: #000000; font-weight: bold">in</span> encoding_results<span style="color: #333333">.</span>items():
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>file_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>encoding<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="valuecaster">ValueCaster</h3>
<p>A utility class for value casting and date format conversion.</p>
<h4 id="methods_3">Methods</h4>
<h5 id="trycast">trycast</h5>
<p>Safely attempt to cast a value string to a specified type.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #555555; font-weight: bold">@staticmethod</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">trycast</span>(valstr: <span style="color: #007020">str</span>, tp: Callable[[<span style="color: #007020">str</span>], Any]) <span style="color: #333333">-&gt;</span> Any
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>valstr</code> (str): Value string to cast
- <code>tp</code> (Callable[[str], Any]): Type function to cast to</p>
<p><strong>Returns:</strong>
- <code>Any</code>: Casted value if successful, None otherwise</p>
<h5 id="convert_to_date_format">convert_to_date_format</h5>
<p>Convert a date string to a specified format.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #555555; font-weight: bold">@staticmethod</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">convert_to_date_format</span>(value: <span style="color: #007020">str</span>, fmt: <span style="color: #007020">str</span>) <span style="color: #333333">-&gt;</span> <span style="color: #007020">str</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>value</code> (str): Date string to convert
- <code>fmt</code> (str): Target date format ("date-time", "date", "time")</p>
<p><strong>Returns:</strong>
- <code>str</code>: Converted date string</p>
<p><strong>Raises:</strong>
- <code>StructuredError</code>: If the format is unknown</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> ValueCaster

<span style="color: #888888"># Test value casting</span>
test_values <span style="color: #333333">=</span> [<span style="background-color: #fff0f0">"123"</span>, <span style="background-color: #fff0f0">"45.67"</span>, <span style="background-color: #fff0f0">"true"</span>, <span style="background-color: #fff0f0">"invalid"</span>]
test_types <span style="color: #333333">=</span> [<span style="color: #007020">int</span>, <span style="color: #007020">float</span>, <span style="color: #007020">bool</span>, <span style="color: #007020">str</span>]

<span style="color: #008800; font-weight: bold">for</span> value <span style="color: #000000; font-weight: bold">in</span> test_values:
    <span style="color: #008800; font-weight: bold">for</span> cast_type <span style="color: #000000; font-weight: bold">in</span> test_types:
        result <span style="color: #333333">=</span> ValueCaster<span style="color: #333333">.</span>trycast(value, cast_type)
        <span style="color: #008800; font-weight: bold">if</span> result <span style="color: #000000; font-weight: bold">is</span> <span style="color: #000000; font-weight: bold">not</span> <span style="color: #008800; font-weight: bold">None</span>:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"'</span><span style="background-color: #eeeeee">{</span>value<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">' → </span><span style="background-color: #eeeeee">{</span>cast_type<span style="color: #333333">.</span><span style="color: #996633">__name__</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>result<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">else</span>:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"'</span><span style="background-color: #eeeeee">{</span>value<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">' → </span><span style="background-color: #eeeeee">{</span>cast_type<span style="color: #333333">.</span><span style="color: #996633">__name__</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: Failed"</span>)

<span style="color: #888888"># Date format conversion</span>
date_strings <span style="color: #333333">=</span> [
    <span style="background-color: #fff0f0">"2024-01-15T14:30:00Z"</span>,
    <span style="background-color: #fff0f0">"2024-01-15 14:30:00"</span>,
    <span style="background-color: #fff0f0">"Jan 15, 2024 2:30 PM"</span>
]

formats <span style="color: #333333">=</span> [<span style="background-color: #fff0f0">"date-time"</span>, <span style="background-color: #fff0f0">"date"</span>, <span style="background-color: #fff0f0">"time"</span>]

<span style="color: #008800; font-weight: bold">for</span> date_str <span style="color: #000000; font-weight: bold">in</span> date_strings:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">Original: </span><span style="background-color: #eeeeee">{</span>date_str<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
    <span style="color: #008800; font-weight: bold">for</span> fmt <span style="color: #000000; font-weight: bold">in</span> formats:
        <span style="color: #008800; font-weight: bold">try</span>:
            converted <span style="color: #333333">=</span> ValueCaster<span style="color: #333333">.</span>convert_to_date_format(date_str, fmt)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>fmt<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>converted<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>fmt<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: Error - </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h2 id="functions">Functions</h2>
<h3 id="get_default_values">get_default_values</h3>
<p>Read default values from a CSV file and return them as a dictionary.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">get_default_values</span>(default_values_filepath: RdeFsPath) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, Any]
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>default_values_filepath</code> (RdeFsPath): Path to the CSV file containing default values</p>
<p><strong>Returns:</strong>
- <code>dict[str, Any]</code>: Dictionary mapping keys to their corresponding default values</p>
<p><strong>CSV Format:</strong>
- Must contain 'key' and 'value' columns
- Encoding is automatically detected</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> get_default_values
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">csv</span>

<span style="color: #888888"># Create sample default values CSV</span>
default_csv_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/config/default_values.csv"</span>)
default_csv_path<span style="color: #333333">.</span>parent<span style="color: #333333">.</span>mkdir(parents<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, exist_ok<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>)

<span style="color: #888888"># Sample data</span>
sample_defaults <span style="color: #333333">=</span> [
    {<span style="background-color: #fff0f0">"key"</span>: <span style="background-color: #fff0f0">"default_temperature_unit"</span>, <span style="background-color: #fff0f0">"value"</span>: <span style="background-color: #fff0f0">"°C"</span>},
    {<span style="background-color: #fff0f0">"key"</span>: <span style="background-color: #fff0f0">"default_pressure_unit"</span>, <span style="background-color: #fff0f0">"value"</span>: <span style="background-color: #fff0f0">"hPa"</span>},
    {<span style="background-color: #fff0f0">"key"</span>: <span style="background-color: #fff0f0">"default_author"</span>, <span style="background-color: #fff0f0">"value"</span>: <span style="background-color: #fff0f0">"Research Team"</span>},
    {<span style="background-color: #fff0f0">"key"</span>: <span style="background-color: #fff0f0">"default_language"</span>, <span style="background-color: #fff0f0">"value"</span>: <span style="background-color: #fff0f0">"en"</span>},
    {<span style="background-color: #fff0f0">"key"</span>: <span style="background-color: #fff0f0">"max_file_size"</span>, <span style="background-color: #fff0f0">"value"</span>: <span style="background-color: #fff0f0">"100MB"</span>}
]

<span style="color: #888888"># Write sample CSV</span>
<span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(default_csv_path, <span style="background-color: #fff0f0">'w'</span>, newline<span style="color: #333333">=</span><span style="background-color: #fff0f0">''</span>, encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>) <span style="color: #008800; font-weight: bold">as</span> f:
    writer <span style="color: #333333">=</span> csv<span style="color: #333333">.</span>DictWriter(f, fieldnames<span style="color: #333333">=</span>[<span style="background-color: #fff0f0">'key'</span>, <span style="background-color: #fff0f0">'value'</span>])
    writer<span style="color: #333333">.</span>writeheader()
    writer<span style="color: #333333">.</span>writerows(sample_defaults)

<span style="color: #888888"># Read default values</span>
<span style="color: #008800; font-weight: bold">try</span>:
    defaults <span style="color: #333333">=</span> get_default_values(default_csv_path)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Default values loaded:"</span>)
    <span style="color: #008800; font-weight: bold">for</span> key, value <span style="color: #000000; font-weight: bold">in</span> defaults<span style="color: #333333">.</span>items():
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>key<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>value<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

    <span style="color: #888888"># Use defaults in processing</span>
    temperature_unit <span style="color: #333333">=</span> defaults<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">"default_temperature_unit"</span>, <span style="background-color: #fff0f0">"K"</span>)
    author <span style="color: #333333">=</span> defaults<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">"default_author"</span>, <span style="background-color: #fff0f0">"Unknown"</span>)

    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">Using defaults:"</span>)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Temperature unit: </span><span style="background-color: #eeeeee">{</span>temperature_unit<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Author: </span><span style="background-color: #eeeeee">{</span>author<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Error reading defaults: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="unzip_japanese_zip">unzip_japanese_zip</h3>
<p>Extract files from ZIP archives with Japanese filename encoding support.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">unzip_japanese_zip</span>(src_zipfilepath: <span style="color: #007020">str</span>, dst_dirpath: <span style="color: #007020">str</span>) <span style="color: #333333">-&gt;</span> <span style="color: #008800; font-weight: bold">None</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>src_zipfilepath</code> (str): Path to the source ZIP file
- <code>dst_dirpath</code> (str): Destination directory for extraction</p>
<p><strong>Returns:</strong>
- <code>None</code></p>
<p><strong>Features:</strong>
- Handles Japanese-specific encodings (Shift JIS)
- Automatically decodes file names appropriately
- Creates destination directory structure</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> unzip_japanese_zip
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">zipfile</span>

<span style="color: #888888"># Create a sample ZIP file with Japanese filenames</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">create_sample_japanese_zip</span>():
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Create a sample ZIP file for demonstration."""</span>
    zip_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/input/japanese_sample.zip"</span>)
    zip_path<span style="color: #333333">.</span>parent<span style="color: #333333">.</span>mkdir(parents<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, exist_ok<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>)

    <span style="color: #888888"># Create some sample files</span>
    sample_files <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">"english_file.txt"</span>: <span style="background-color: #fff0f0">"This is an English file."</span>,
        <span style="background-color: #fff0f0">"データファイル.txt"</span>: <span style="background-color: #fff0f0">"これは日本語のファイルです。"</span>,
        <span style="background-color: #fff0f0">"測定結果.csv"</span>: <span style="background-color: #fff0f0">"time,temperature,humidity</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">2024-01-01,25.5,65</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">"</span>
    }

    <span style="color: #008800; font-weight: bold">with</span> zipfile<span style="color: #333333">.</span>ZipFile(zip_path, <span style="background-color: #fff0f0">'w'</span>, zipfile<span style="color: #333333">.</span>ZIP_DEFLATED) <span style="color: #008800; font-weight: bold">as</span> zf:
        <span style="color: #008800; font-weight: bold">for</span> filename, content <span style="color: #000000; font-weight: bold">in</span> sample_files<span style="color: #333333">.</span>items():
            zf<span style="color: #333333">.</span>writestr(filename, content<span style="color: #333333">.</span>encode(<span style="background-color: #fff0f0">'utf-8'</span>))

    <span style="color: #008800; font-weight: bold">return</span> zip_path

<span style="color: #888888"># Extract ZIP with Japanese filename support</span>
zip_file <span style="color: #333333">=</span> create_sample_japanese_zip()
extract_dir <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/extracted"</span>)

<span style="color: #008800; font-weight: bold">try</span>:
    unzip_japanese_zip(<span style="color: #007020">str</span>(zip_file), <span style="color: #007020">str</span>(extract_dir))
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Successfully extracted to: </span><span style="background-color: #eeeeee">{</span>extract_dir<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

    <span style="color: #888888"># List extracted files</span>
    <span style="color: #008800; font-weight: bold">if</span> extract_dir<span style="color: #333333">.</span>exists():
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Extracted files:"</span>)
        <span style="color: #008800; font-weight: bold">for</span> file_path <span style="color: #000000; font-weight: bold">in</span> extract_dir<span style="color: #333333">.</span>rglob(<span style="background-color: #fff0f0">"*"</span>):
            <span style="color: #008800; font-weight: bold">if</span> file_path<span style="color: #333333">.</span>is_file():
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>file_path<span style="color: #333333">.</span>name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                <span style="color: #888888"># Read and display content</span>
                <span style="color: #008800; font-weight: bold">try</span>:
                    content <span style="color: #333333">=</span> file_path<span style="color: #333333">.</span>read_text(encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>)
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"    Content preview: </span><span style="background-color: #eeeeee">{</span>content[:<span style="color: #0000DD; font-weight: bold">50</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">..."</span>)
                <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"    Error reading content: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Extraction failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="castval">castval</h3>
<p>Format and cast string values based on specified type and format specifications.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">castval</span>(valstr: Any, outtype: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>, outfmt: <span style="color: #007020">str</span> <span style="color: #333333">|</span> <span style="color: #008800; font-weight: bold">None</span>) <span style="color: #333333">-&gt;</span> <span style="color: #007020">bool</span> <span style="color: #333333">|</span> <span style="color: #007020">int</span> <span style="color: #333333">|</span> <span style="color: #007020">float</span> <span style="color: #333333">|</span> <span style="color: #007020">str</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>valstr</code> (Any): String to be converted
- <code>outtype</code> (str | None): Target output type ("boolean", "integer", "number", "string")
- <code>outfmt</code> (str | None): Output format (for date formatting)</p>
<p><strong>Returns:</strong>
- <code>bool | int | float | str</code>: Converted value</p>
<p><strong>Raises:</strong>
- <code>StructuredError</code>: If type is unknown or casting fails</p>
<p><strong>Supported Types:</strong>
- <strong>boolean</strong>: Converts to boolean
- <strong>integer</strong>: Converts to integer (handles unit-value pairs)
- <strong>number</strong>: Converts to float (handles unit-value pairs)
- <strong>string</strong>: Returns string, applies date formatting if specified</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">82</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> castval
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.exceptions</span> <span style="color: #008800; font-weight: bold">import</span> StructuredError

<span style="color: #888888"># Test various value casting scenarios</span>
test_cases <span style="color: #333333">=</span> [
    <span style="color: #888888"># Boolean casting</span>
    (<span style="background-color: #fff0f0">"true"</span>, <span style="background-color: #fff0f0">"boolean"</span>, <span style="color: #008800; font-weight: bold">None</span>),
    (<span style="background-color: #fff0f0">"false"</span>, <span style="background-color: #fff0f0">"boolean"</span>, <span style="color: #008800; font-weight: bold">None</span>),
    (<span style="background-color: #fff0f0">"1"</span>, <span style="background-color: #fff0f0">"boolean"</span>, <span style="color: #008800; font-weight: bold">None</span>),

    <span style="color: #888888"># Integer casting</span>
    (<span style="background-color: #fff0f0">"42"</span>, <span style="background-color: #fff0f0">"integer"</span>, <span style="color: #008800; font-weight: bold">None</span>),
    (<span style="background-color: #fff0f0">"42.5m"</span>, <span style="background-color: #fff0f0">"integer"</span>, <span style="color: #008800; font-weight: bold">None</span>),  <span style="color: #888888"># With units</span>
    (<span style="background-color: #fff0f0">"-123"</span>, <span style="background-color: #fff0f0">"integer"</span>, <span style="color: #008800; font-weight: bold">None</span>),

    <span style="color: #888888"># Number casting</span>
    (<span style="background-color: #fff0f0">"3.14159"</span>, <span style="background-color: #fff0f0">"number"</span>, <span style="color: #008800; font-weight: bold">None</span>),
    (<span style="background-color: #fff0f0">"25.5°C"</span>, <span style="background-color: #fff0f0">"number"</span>, <span style="color: #008800; font-weight: bold">None</span>),  <span style="color: #888888"># With units</span>
    (<span style="background-color: #fff0f0">"1.23e-4"</span>, <span style="background-color: #fff0f0">"number"</span>, <span style="color: #008800; font-weight: bold">None</span>),

    <span style="color: #888888"># String casting</span>
    (<span style="background-color: #fff0f0">"Hello World"</span>, <span style="background-color: #fff0f0">"string"</span>, <span style="color: #008800; font-weight: bold">None</span>),
    (<span style="background-color: #fff0f0">"2024-01-15T14:30:00"</span>, <span style="background-color: #fff0f0">"string"</span>, <span style="background-color: #fff0f0">"date-time"</span>),
    (<span style="background-color: #fff0f0">"2024-01-15T14:30:00"</span>, <span style="background-color: #fff0f0">"string"</span>, <span style="background-color: #fff0f0">"date"</span>),
    (<span style="background-color: #fff0f0">"2024-01-15T14:30:00"</span>, <span style="background-color: #fff0f0">"string"</span>, <span style="background-color: #fff0f0">"time"</span>),
]

<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Value casting examples:"</span>)
<span style="color: #008800; font-weight: bold">for</span> valstr, outtype, outfmt <span style="color: #000000; font-weight: bold">in</span> test_cases:
    <span style="color: #008800; font-weight: bold">try</span>:
        result <span style="color: #333333">=</span> castval(valstr, outtype, outfmt)
        result_type <span style="color: #333333">=</span> <span style="color: #007020">type</span>(result)<span style="color: #333333">.</span><span style="color: #996633">__name__</span>
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"'</span><span style="background-color: #eeeeee">{</span>valstr<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">' → </span><span style="background-color: #eeeeee">{</span>outtype<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">/</span><span style="background-color: #eeeeee">{</span>outfmt<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> → </span><span style="background-color: #eeeeee">{</span>result<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> (</span><span style="background-color: #eeeeee">{</span>result_type<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">)"</span>)
    <span style="color: #008800; font-weight: bold">except</span> StructuredError <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"'</span><span style="background-color: #eeeeee">{</span>valstr<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">' → </span><span style="background-color: #eeeeee">{</span>outtype<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">/</span><span style="background-color: #eeeeee">{</span>outfmt<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> → Error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
    <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"'</span><span style="background-color: #eeeeee">{</span>valstr<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">' → </span><span style="background-color: #eeeeee">{</span>outtype<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">/</span><span style="background-color: #eeeeee">{</span>outfmt<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> → Unexpected error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Practical usage in data processing</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">process_measurement_data</span>(raw_data: <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>]) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">any</span>]:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Process raw measurement data with type casting."""</span>

    <span style="color: #888888"># Define expected types for each field</span>
    field_types <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">"temperature"</span>: (<span style="background-color: #fff0f0">"number"</span>, <span style="color: #008800; font-weight: bold">None</span>),
        <span style="background-color: #fff0f0">"pressure"</span>: (<span style="background-color: #fff0f0">"number"</span>, <span style="color: #008800; font-weight: bold">None</span>),
        <span style="background-color: #fff0f0">"humidity"</span>: (<span style="background-color: #fff0f0">"integer"</span>, <span style="color: #008800; font-weight: bold">None</span>),
        <span style="background-color: #fff0f0">"is_valid"</span>: (<span style="background-color: #fff0f0">"boolean"</span>, <span style="color: #008800; font-weight: bold">None</span>),
        <span style="background-color: #fff0f0">"timestamp"</span>: (<span style="background-color: #fff0f0">"string"</span>, <span style="background-color: #fff0f0">"date-time"</span>),
        <span style="background-color: #fff0f0">"location"</span>: (<span style="background-color: #fff0f0">"string"</span>, <span style="color: #008800; font-weight: bold">None</span>)
    }

    processed_data <span style="color: #333333">=</span> {}

    <span style="color: #008800; font-weight: bold">for</span> field, value <span style="color: #000000; font-weight: bold">in</span> raw_data<span style="color: #333333">.</span>items():
        <span style="color: #008800; font-weight: bold">if</span> field <span style="color: #000000; font-weight: bold">in</span> field_types:
            outtype, outfmt <span style="color: #333333">=</span> field_types[field]
            <span style="color: #008800; font-weight: bold">try</span>:
                processed_data[field] <span style="color: #333333">=</span> castval(value, outtype, outfmt)
            <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Warning: Failed to cast </span><span style="background-color: #eeeeee">{</span>field<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">='</span><span style="background-color: #eeeeee">{</span>value<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">': </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                processed_data[field] <span style="color: #333333">=</span> value  <span style="color: #888888"># Keep original value</span>
        <span style="color: #008800; font-weight: bold">else</span>:
            processed_data[field] <span style="color: #333333">=</span> value

    <span style="color: #008800; font-weight: bold">return</span> processed_data

<span style="color: #888888"># Example usage</span>
raw_measurements <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"temperature"</span>: <span style="background-color: #fff0f0">"25.5°C"</span>,
    <span style="background-color: #fff0f0">"pressure"</span>: <span style="background-color: #fff0f0">"1013.25hPa"</span>,
    <span style="background-color: #fff0f0">"humidity"</span>: <span style="background-color: #fff0f0">"65"</span>,
    <span style="background-color: #fff0f0">"is_valid"</span>: <span style="background-color: #fff0f0">"true"</span>,
    <span style="background-color: #fff0f0">"timestamp"</span>: <span style="background-color: #fff0f0">"2024-01-15T14:30:00Z"</span>,
    <span style="background-color: #fff0f0">"location"</span>: <span style="background-color: #fff0f0">"Laboratory A"</span>,
    <span style="background-color: #fff0f0">"notes"</span>: <span style="background-color: #fff0f0">"Clear weather"</span>
}

processed <span style="color: #333333">=</span> process_measurement_data(raw_measurements)
<span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">Processed measurement data:"</span>)
<span style="color: #008800; font-weight: bold">for</span> field, value <span style="color: #000000; font-weight: bold">in</span> processed<span style="color: #333333">.</span>items():
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>field<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>value<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> (</span><span style="background-color: #eeeeee">{</span><span style="color: #007020">type</span>(value)<span style="color: #333333">.</span><span style="color: #996633">__name__</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">)"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="dict2meta">dict2meta</h3>
<p>Convert dictionary data into structured metadata and write to a file.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">6</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">dict2meta</span>(
    metadef_filepath: pathlib<span style="color: #333333">.</span>Path,
    metaout_filepath: pathlib<span style="color: #333333">.</span>Path,
    const_info: MetaType,
    val_info: MetaType
) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, <span style="color: #007020">set</span>[Any]]
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong>
- <code>metadef_filepath</code> (pathlib.Path): Path to metadata definition file
- <code>metaout_filepath</code> (pathlib.Path): Output path for processed metadata
- <code>const_info</code> (MetaType): Dictionary with constant metadata
- <code>val_info</code> (MetaType): Dictionary with variable metadata</p>
<p><strong>Returns:</strong>
- <code>dict[str, set[Any]]</code>: Dictionary with 'assigned' and 'unknown' metadata fields</p>
<p><strong>Example:</strong></p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">82</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">83</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">84</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">85</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">86</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">87</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">88</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">89</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">90</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">91</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">92</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">93</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">94</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">95</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">96</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">97</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">98</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> dict2meta
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">json</span>

<span style="color: #888888"># Setup file paths</span>
metadef_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/tasksupport/metadata-def.json"</span>)
output_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/meta/processed_metadata.json"</span>)

<span style="color: #888888"># Prepare constant metadata (applies to entire dataset)</span>
constant_metadata <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"title"</span>: <span style="background-color: #fff0f0">"Environmental Monitoring Dataset"</span>,
    <span style="background-color: #fff0f0">"description"</span>: <span style="background-color: #fff0f0">"Temperature and humidity measurements from IoT sensors"</span>,
    <span style="background-color: #fff0f0">"creator"</span>: <span style="background-color: #fff0f0">"Environmental Research Lab"</span>,
    <span style="background-color: #fff0f0">"created"</span>: <span style="background-color: #fff0f0">"2024-01-15T00:00:00Z"</span>,
    <span style="background-color: #fff0f0">"keywords"</span>: [<span style="background-color: #fff0f0">"environment"</span>, <span style="background-color: #fff0f0">"IoT"</span>, <span style="background-color: #fff0f0">"monitoring"</span>, <span style="background-color: #fff0f0">"sensors"</span>],
    <span style="background-color: #fff0f0">"license"</span>: <span style="background-color: #fff0f0">"CC BY 4.0"</span>,
    <span style="background-color: #fff0f0">"language"</span>: <span style="background-color: #fff0f0">"en"</span>
}

<span style="color: #888888"># Prepare variable metadata (varies by measurement)</span>
variable_metadata <span style="color: #333333">=</span> {
    <span style="background-color: #fff0f0">"sensor_id"</span>: [<span style="background-color: #fff0f0">"TEMP001"</span>, <span style="background-color: #fff0f0">"TEMP002"</span>, <span style="background-color: #fff0f0">"TEMP003"</span>],
    <span style="background-color: #fff0f0">"location"</span>: [<span style="background-color: #fff0f0">"Building A"</span>, <span style="background-color: #fff0f0">"Building B"</span>, <span style="background-color: #fff0f0">"Building C"</span>],
    <span style="background-color: #fff0f0">"temperature"</span>: [<span style="background-color: #fff0f0">"23.5"</span>, <span style="background-color: #fff0f0">"24.1"</span>, <span style="background-color: #fff0f0">"22.8"</span>],
    <span style="background-color: #fff0f0">"humidity"</span>: [<span style="background-color: #fff0f0">"65"</span>, <span style="background-color: #fff0f0">"68"</span>, <span style="background-color: #fff0f0">"62"</span>],
    <span style="background-color: #fff0f0">"battery_level"</span>: [<span style="background-color: #fff0f0">"85"</span>, <span style="background-color: #fff0f0">"92"</span>, <span style="background-color: #fff0f0">"78"</span>],
    <span style="background-color: #fff0f0">"last_calibration"</span>: [<span style="background-color: #fff0f0">"2024-01-01"</span>, <span style="background-color: #fff0f0">"2024-01-02"</span>, <span style="background-color: #fff0f0">"2024-01-01"</span>]
}

<span style="color: #008800; font-weight: bold">try</span>:
    <span style="color: #888888"># Convert dictionaries to structured metadata</span>
    result <span style="color: #333333">=</span> dict2meta(
        metadef_filepath<span style="color: #333333">=</span>metadef_path,
        metaout_filepath<span style="color: #333333">=</span>output_path,
        const_info<span style="color: #333333">=</span>constant_metadata,
        val_info<span style="color: #333333">=</span>variable_metadata
    )

    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Metadata processing completed successfully!"</span>)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Assigned fields: </span><span style="background-color: #eeeeee">{</span>result[<span style="background-color: #fff0f0">'assigned'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Unknown fields: </span><span style="background-color: #eeeeee">{</span>result[<span style="background-color: #fff0f0">'unknown'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

    <span style="color: #888888"># Verify output file</span>
    <span style="color: #008800; font-weight: bold">if</span> output_path<span style="color: #333333">.</span>exists():
        <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(output_path, <span style="background-color: #fff0f0">'r'</span>, encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>) <span style="color: #008800; font-weight: bold">as</span> f:
            metadata <span style="color: #333333">=</span> json<span style="color: #333333">.</span>load(f)

        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">Generated metadata structure:"</span>)
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Constant fields: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">list</span>(metadata<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'constant'</span>,<span style="color: #bbbbbb"> </span>{})<span style="color: #333333">.</span>keys())<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Variable entries: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(metadata<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'variable'</span>,<span style="color: #bbbbbb"> </span>[]))<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

        <span style="color: #888888"># Display sample variable entry</span>
        <span style="color: #008800; font-weight: bold">if</span> metadata<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'variable'</span>):
            sample_entry <span style="color: #333333">=</span> metadata[<span style="background-color: #fff0f0">'variable'</span>][<span style="color: #0000DD; font-weight: bold">0</span>]
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Sample variable entry: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">list</span>(sample_entry<span style="color: #333333">.</span>keys())<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Error processing metadata: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Advanced usage with error handling and validation</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">create_metadata_with_validation</span>(
    metadef_path: Path,
    output_path: Path,
    const_data: <span style="color: #007020">dict</span>,
    var_data: <span style="color: #007020">dict</span>
) <span style="color: #333333">-&gt;</span> <span style="color: #007020">bool</span>:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Create metadata with comprehensive validation."""</span>

    <span style="color: #008800; font-weight: bold">try</span>:
        <span style="color: #888888"># Validate input data</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> metadef_path<span style="color: #333333">.</span>exists():
            <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">FileNotFoundError</span>(<span style="background-color: #fff0f0">f"Metadata definition not found: </span><span style="background-color: #eeeeee">{</span>metadef_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

        <span style="color: #888888"># Ensure output directory exists</span>
        output_path<span style="color: #333333">.</span>parent<span style="color: #333333">.</span>mkdir(parents<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, exist_ok<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>)

        <span style="color: #888888"># Process metadata</span>
        result <span style="color: #333333">=</span> dict2meta(metadef_path, output_path, const_data, var_data)

        <span style="color: #888888"># Check for unassigned fields</span>
        <span style="color: #008800; font-weight: bold">if</span> result[<span style="background-color: #fff0f0">'unknown'</span>]:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Warning: Some fields were not assigned: </span><span style="background-color: #eeeeee">{</span>result[<span style="background-color: #fff0f0">'unknown'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

        <span style="color: #888888"># Validate output</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> output_path<span style="color: #333333">.</span>exists():
            <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">RuntimeError</span>(<span style="background-color: #fff0f0">"Output file was not created"</span>)

        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata successfully created: </span><span style="background-color: #eeeeee">{</span>output_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">True</span>

    <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata creation failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

<span style="color: #888888"># Usage with validation</span>
success <span style="color: #333333">=</span> create_metadata_with_validation(
    metadef_path, output_path, constant_metadata, variable_metadata
)
</code></pre></div></td></tr></table></div>
<h3 id="deprecated-functions">Deprecated Functions</h3>
<h4 id="read_from_json_file">read_from_json_file</h4>
<p><strong>Deprecated:</strong> Use <code>rdetoolkit.fileops.readf_json</code> instead.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">read_from_json_file</span>(invoice_file_path: RdeFsPath) <span style="color: #333333">-&gt;</span> <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, Any]
</code></pre></div></td></tr></table></div>
<h4 id="write_to_json_file">write_to_json_file</h4>
<p><strong>Deprecated:</strong> Use <code>rdetoolkit.fileops.writef_json</code> instead.</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">write_to_json_file</span>(invoicefile_path: RdeFsPath, invoiceobj: <span style="color: #007020">dict</span>[<span style="color: #007020">str</span>, Any], enc: <span style="color: #007020">str</span> <span style="color: #333333">=</span> <span style="background-color: #fff0f0">"utf_8"</span>) <span style="color: #333333">-&gt;</span> <span style="color: #008800; font-weight: bold">None</span>
</code></pre></div></td></tr></table></div>
<h2 id="complete-usage-examples">Complete Usage Examples</h2>
<h3 id="comprehensive-metadata-processing-pipeline">Comprehensive Metadata Processing Pipeline</h3>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> Meta, get_default_values, CharDecEncoding, dict2meta
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">json</span>
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">csv</span>
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">typing</span> <span style="color: #008800; font-weight: bold">import</span> Dict, List, Any

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">MetadataProcessor</span>:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Comprehensive metadata processing pipeline."""</span>

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>, config_dir: Path, output_dir: Path):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>config_dir <span style="color: #333333">=</span> config_dir
        <span style="color: #007020">self</span><span style="color: #333333">.</span>output_dir <span style="color: #333333">=</span> output_dir
        <span style="color: #007020">self</span><span style="color: #333333">.</span>defaults <span style="color: #333333">=</span> {}
        <span style="color: #007020">self</span><span style="color: #333333">.</span>encoding_cache <span style="color: #333333">=</span> {}

        <span style="color: #888888"># Load default values</span>
        defaults_file <span style="color: #333333">=</span> config_dir <span style="color: #333333">/</span> <span style="background-color: #fff0f0">"default_values.csv"</span>
        <span style="color: #008800; font-weight: bold">if</span> defaults_file<span style="color: #333333">.</span>exists():
            <span style="color: #007020">self</span><span style="color: #333333">.</span>defaults <span style="color: #333333">=</span> get_default_values(defaults_file)

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">detect_file_encodings</span>(<span style="color: #007020">self</span>, file_paths: List[Path]) <span style="color: #333333">-&gt;</span> Dict[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>]:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Detect encodings for multiple files with caching."""</span>

        <span style="color: #008800; font-weight: bold">for</span> file_path <span style="color: #000000; font-weight: bold">in</span> file_paths:
            <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">str</span>(file_path) <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>encoding_cache:
                <span style="color: #008800; font-weight: bold">try</span>:
                    encoding <span style="color: #333333">=</span> CharDecEncoding<span style="color: #333333">.</span>detect_text_file_encoding(file_path)
                    <span style="color: #007020">self</span><span style="color: #333333">.</span>encoding_cache[<span style="color: #007020">str</span>(file_path)] <span style="color: #333333">=</span> encoding
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Detected encoding for </span><span style="background-color: #eeeeee">{</span>file_path<span style="color: #333333">.</span>name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>encoding<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Encoding detection failed for </span><span style="background-color: #eeeeee">{</span>file_path<span style="color: #333333">.</span>name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                    <span style="color: #007020">self</span><span style="color: #333333">.</span>encoding_cache[<span style="color: #007020">str</span>(file_path)] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">"utf-8"</span>  <span style="color: #888888"># Fallback</span>

        <span style="color: #008800; font-weight: bold">return</span> {path: <span style="color: #007020">self</span><span style="color: #333333">.</span>encoding_cache[<span style="color: #007020">str</span>(Path(path))] <span style="color: #008800; font-weight: bold">for</span> path <span style="color: #000000; font-weight: bold">in</span> file_paths}

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">process_csv_metadata</span>(<span style="color: #007020">self</span>, csv_path: Path) <span style="color: #333333">-&gt;</span> Dict[<span style="color: #007020">str</span>, List[<span style="color: #007020">str</span>]]:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Process CSV file and extract metadata with proper encoding."""</span>

        <span style="color: #888888"># Detect encoding</span>
        encoding <span style="color: #333333">=</span> CharDecEncoding<span style="color: #333333">.</span>detect_text_file_encoding(csv_path)

        metadata <span style="color: #333333">=</span> {}

        <span style="color: #008800; font-weight: bold">try</span>:
            <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(csv_path, <span style="background-color: #fff0f0">'r'</span>, encoding<span style="color: #333333">=</span>encoding) <span style="color: #008800; font-weight: bold">as</span> f:
                reader <span style="color: #333333">=</span> csv<span style="color: #333333">.</span>DictReader(f)

                <span style="color: #888888"># Initialize metadata structure</span>
                <span style="color: #008800; font-weight: bold">for</span> fieldname <span style="color: #000000; font-weight: bold">in</span> reader<span style="color: #333333">.</span>fieldnames:
                    metadata[fieldname] <span style="color: #333333">=</span> []

                <span style="color: #888888"># Read data</span>
                <span style="color: #008800; font-weight: bold">for</span> row <span style="color: #000000; font-weight: bold">in</span> reader:
                    <span style="color: #008800; font-weight: bold">for</span> fieldname, value <span style="color: #000000; font-weight: bold">in</span> row<span style="color: #333333">.</span>items():
                        metadata[fieldname]<span style="color: #333333">.</span>append(value <span style="color: #000000; font-weight: bold">or</span> <span style="background-color: #fff0f0">""</span>)

            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Processed CSV: </span><span style="background-color: #eeeeee">{</span>csv_path<span style="color: #333333">.</span>name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> (</span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(metadata)<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> fields)"</span>)
            <span style="color: #008800; font-weight: bold">return</span> metadata

        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Error processing CSV </span><span style="background-color: #eeeeee">{</span>csv_path<span style="color: #333333">.</span>name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">return</span> {}

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">create_comprehensive_metadata</span>(
        <span style="color: #007020">self</span>,
        metadef_path: Path,
        csv_files: List[Path],
        additional_const: Dict[<span style="color: #007020">str</span>, Any] <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">None</span>
    ) <span style="color: #333333">-&gt;</span> Path:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Create comprehensive metadata from multiple sources."""</span>

        <span style="color: #888888"># Setup output path</span>
        output_path <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>output_dir <span style="color: #333333">/</span> <span style="background-color: #fff0f0">"comprehensive_metadata.json"</span>
        <span style="color: #007020">self</span><span style="color: #333333">.</span>output_dir<span style="color: #333333">.</span>mkdir(parents<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, exist_ok<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>)

        <span style="color: #888888"># Start with defaults</span>
        constant_metadata <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>defaults<span style="color: #333333">.</span>copy()

        <span style="color: #888888"># Add additional constants</span>
        <span style="color: #008800; font-weight: bold">if</span> additional_const:
            constant_metadata<span style="color: #333333">.</span>update(additional_const)

        <span style="color: #888888"># Process CSV files for variable metadata</span>
        variable_metadata <span style="color: #333333">=</span> {}

        <span style="color: #008800; font-weight: bold">for</span> csv_file <span style="color: #000000; font-weight: bold">in</span> csv_files:
            <span style="color: #008800; font-weight: bold">if</span> csv_file<span style="color: #333333">.</span>exists():
                csv_data <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>process_csv_metadata(csv_file)
                variable_metadata<span style="color: #333333">.</span>update(csv_data)

        <span style="color: #888888"># Apply defaults to missing variable data</span>
        max_length <span style="color: #333333">=</span> <span style="color: #007020">max</span>(<span style="color: #007020">len</span>(values) <span style="color: #008800; font-weight: bold">for</span> values <span style="color: #000000; font-weight: bold">in</span> variable_metadata<span style="color: #333333">.</span>values()) <span style="color: #008800; font-weight: bold">if</span> variable_metadata <span style="color: #008800; font-weight: bold">else</span> <span style="color: #0000DD; font-weight: bold">0</span>

        <span style="color: #008800; font-weight: bold">for</span> key, default_value <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>defaults<span style="color: #333333">.</span>items():
            <span style="color: #008800; font-weight: bold">if</span> key <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> constant_metadata <span style="color: #000000; font-weight: bold">and</span> key <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> variable_metadata:
                variable_metadata[key] <span style="color: #333333">=</span> [default_value] <span style="color: #333333">*</span> max_length

        <span style="color: #888888"># Create metadata using dict2meta</span>
        <span style="color: #008800; font-weight: bold">try</span>:
            result <span style="color: #333333">=</span> dict2meta(
                metadef_filepath<span style="color: #333333">=</span>metadef_path,
                metaout_filepath<span style="color: #333333">=</span>output_path,
                const_info<span style="color: #333333">=</span>constant_metadata,
                val_info<span style="color: #333333">=</span>variable_metadata
            )

            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata creation completed:"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Output: </span><span style="background-color: #eeeeee">{</span>output_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Assigned fields: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(result[<span style="background-color: #fff0f0">'assigned'</span>])<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Unknown fields: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(result[<span style="background-color: #fff0f0">'unknown'</span>])<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #008800; font-weight: bold">if</span> result[<span style="background-color: #fff0f0">'unknown'</span>]:
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Unknown fields: </span><span style="background-color: #eeeeee">{</span>result[<span style="background-color: #fff0f0">'unknown'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #008800; font-weight: bold">return</span> output_path

        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata creation failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">raise</span>

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">validate_metadata_output</span>(<span style="color: #007020">self</span>, metadata_path: Path) <span style="color: #333333">-&gt;</span> <span style="color: #007020">bool</span>:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Validate the generated metadata file."""</span>

        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> metadata_path<span style="color: #333333">.</span>exists():
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Metadata file does not exist"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

        <span style="color: #008800; font-weight: bold">try</span>:
            <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(metadata_path, <span style="background-color: #fff0f0">'r'</span>, encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>) <span style="color: #008800; font-weight: bold">as</span> f:
                metadata <span style="color: #333333">=</span> json<span style="color: #333333">.</span>load(f)

            <span style="color: #888888"># Check structure</span>
            required_sections <span style="color: #333333">=</span> [<span style="background-color: #fff0f0">'constant'</span>, <span style="background-color: #fff0f0">'variable'</span>]
            <span style="color: #008800; font-weight: bold">for</span> section <span style="color: #000000; font-weight: bold">in</span> required_sections:
                <span style="color: #008800; font-weight: bold">if</span> section <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> metadata:
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Missing section: </span><span style="background-color: #eeeeee">{</span>section<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                    <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

            <span style="color: #888888"># Validate constant metadata</span>
            const_count <span style="color: #333333">=</span> <span style="color: #007020">len</span>(metadata[<span style="background-color: #fff0f0">'constant'</span>])
            var_count <span style="color: #333333">=</span> <span style="color: #007020">len</span>(metadata[<span style="background-color: #fff0f0">'variable'</span>])

            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Validation results:"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Constant metadata entries: </span><span style="background-color: #eeeeee">{</span>const_count<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Variable metadata entries: </span><span style="background-color: #eeeeee">{</span>var_count<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #888888"># Check for required fields</span>
            required_const_fields <span style="color: #333333">=</span> [<span style="background-color: #fff0f0">'title'</span>, <span style="background-color: #fff0f0">'description'</span>, <span style="background-color: #fff0f0">'creator'</span>]
            missing_fields <span style="color: #333333">=</span> [field <span style="color: #008800; font-weight: bold">for</span> field <span style="color: #000000; font-weight: bold">in</span> required_const_fields
                            <span style="color: #008800; font-weight: bold">if</span> field <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> metadata[<span style="background-color: #fff0f0">'constant'</span>]]

            <span style="color: #008800; font-weight: bold">if</span> missing_fields:
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  Missing required constant fields: </span><span style="background-color: #eeeeee">{</span>missing_fields<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"  Metadata validation passed"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">True</span>

        <span style="color: #008800; font-weight: bold">except</span> json<span style="color: #333333">.</span>JSONDecodeError <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Invalid JSON format: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>
        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Validation error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

<span style="color: #888888"># Usage example</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">main</span>():
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Main processing example."""</span>

    <span style="color: #888888"># Setup paths</span>
    config_dir <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/config"</span>)
    output_dir <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/meta"</span>)
    metadef_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/tasksupport/metadata-def.json"</span>)

    <span style="color: #888888"># Sample CSV files</span>
    csv_files <span style="color: #333333">=</span> [
        Path(<span style="background-color: #fff0f0">"data/measurements/temperature.csv"</span>),
        Path(<span style="background-color: #fff0f0">"data/measurements/humidity.csv"</span>),
        Path(<span style="background-color: #fff0f0">"data/measurements/pressure.csv"</span>)
    ]

    <span style="color: #888888"># Create sample data for demonstration</span>
    config_dir<span style="color: #333333">.</span>mkdir(parents<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>, exist_ok<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">True</span>)

    <span style="color: #888888"># Create default values CSV</span>
    defaults_csv <span style="color: #333333">=</span> config_dir <span style="color: #333333">/</span> <span style="background-color: #fff0f0">"default_values.csv"</span>
    <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(defaults_csv, <span style="background-color: #fff0f0">'w'</span>, newline<span style="color: #333333">=</span><span style="background-color: #fff0f0">''</span>, encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>) <span style="color: #008800; font-weight: bold">as</span> f:
        writer <span style="color: #333333">=</span> csv<span style="color: #333333">.</span>writer(f)
        writer<span style="color: #333333">.</span>writerow([<span style="background-color: #fff0f0">'key'</span>, <span style="background-color: #fff0f0">'value'</span>])
        writer<span style="color: #333333">.</span>writerows([
            [<span style="background-color: #fff0f0">'default_temperature_unit'</span>, <span style="background-color: #fff0f0">'°C'</span>],
            [<span style="background-color: #fff0f0">'default_pressure_unit'</span>, <span style="background-color: #fff0f0">'hPa'</span>],
            [<span style="background-color: #fff0f0">'default_humidity_unit'</span>, <span style="background-color: #fff0f0">'%'</span>],
            [<span style="background-color: #fff0f0">'creator'</span>, <span style="background-color: #fff0f0">'Automated Processing System'</span>],
            [<span style="background-color: #fff0f0">'language'</span>, <span style="background-color: #fff0f0">'en'</span>]
        ])

    <span style="color: #888888"># Initialize processor</span>
    processor <span style="color: #333333">=</span> MetadataProcessor(config_dir, output_dir)

    <span style="color: #888888"># Additional constant metadata</span>
    additional_constants <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">"title"</span>: <span style="background-color: #fff0f0">"Multi-Sensor Environmental Data"</span>,
        <span style="background-color: #fff0f0">"description"</span>: <span style="background-color: #fff0f0">"Comprehensive environmental monitoring dataset"</span>,
        <span style="background-color: #fff0f0">"created"</span>: <span style="background-color: #fff0f0">"2024-01-15T00:00:00Z"</span>,
        <span style="background-color: #fff0f0">"keywords"</span>: [<span style="background-color: #fff0f0">"environment"</span>, <span style="background-color: #fff0f0">"sensors"</span>, <span style="background-color: #fff0f0">"monitoring"</span>]
    }

    <span style="color: #008800; font-weight: bold">try</span>:
        <span style="color: #888888"># Process metadata</span>
        output_path <span style="color: #333333">=</span> processor<span style="color: #333333">.</span>create_comprehensive_metadata(
            metadef_path<span style="color: #333333">=</span>metadef_path,
            csv_files<span style="color: #333333">=</span>csv_files,
            additional_const<span style="color: #333333">=</span>additional_constants
        )

        <span style="color: #888888"># Validate output</span>
        <span style="color: #008800; font-weight: bold">if</span> processor<span style="color: #333333">.</span>validate_metadata_output(output_path):
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"✅ Metadata processing completed successfully"</span>)
        <span style="color: #008800; font-weight: bold">else</span>:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"❌ Metadata validation failed"</span>)

    <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"❌ Processing failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #008800; font-weight: bold">if</span> <span style="color: #996633">__name__</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">"__main__"</span>:
    main()
</code></pre></div></td></tr></table></div>
<h3 id="advanced-value-processing-and-unit-handling">Advanced Value Processing and Unit Handling</h3>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">  9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 14</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 15</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 16</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 17</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 18</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 19</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 20</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 21</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 22</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 23</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 24</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 25</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 26</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 27</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 28</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 29</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 30</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 31</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 32</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 33</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 34</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 35</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 36</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 37</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 38</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 39</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 40</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 41</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 42</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 43</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 44</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 45</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 46</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 47</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 48</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 49</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 50</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 51</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 52</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 53</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 54</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 55</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 56</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 57</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 58</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 59</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 60</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 61</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 62</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 63</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 64</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 65</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 66</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 67</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 68</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 69</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 70</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 71</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 72</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 73</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 74</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 75</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 76</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 77</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 78</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 79</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 80</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 81</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 82</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 83</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 84</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 85</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 86</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 87</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 88</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 89</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 90</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 91</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 92</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 93</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 94</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 95</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 96</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 97</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 98</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 99</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">100</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">101</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">102</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">103</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">104</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">105</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">106</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">107</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">108</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">109</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">110</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">111</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">112</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">113</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">114</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">115</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">116</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">117</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">118</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">119</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">120</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">121</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">122</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">123</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">124</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">125</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">126</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">127</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">128</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">129</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">130</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">131</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">132</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">133</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">134</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">135</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">136</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">137</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">138</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">139</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">140</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">141</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">142</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">143</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">144</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">145</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">146</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">147</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">148</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">149</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">150</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">151</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">152</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">153</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">154</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">155</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">156</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">157</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">158</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">159</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">160</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">161</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">162</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">163</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">164</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">165</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">166</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">167</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">168</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">169</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">170</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">171</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">172</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">173</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">174</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">175</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">176</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">177</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">178</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">179</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">180</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">181</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">182</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">183</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">184</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">185</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">186</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">187</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">188</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">189</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">190</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">191</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">192</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">193</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">194</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">195</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">196</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">197</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">198</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">199</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">200</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">201</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">202</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">203</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">204</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">205</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">206</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">207</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">208</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">209</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">210</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">211</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">212</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">213</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">214</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">215</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">216</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">217</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">218</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">219</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">220</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">221</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">222</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">223</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">224</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">225</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">226</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">227</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">228</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">229</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">230</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">231</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">232</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">233</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">234</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">235</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">236</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">237</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">238</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">239</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">240</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">241</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">242</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">243</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">244</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">245</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">246</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">247</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">248</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">249</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">250</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">251</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">252</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">253</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">254</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">255</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">256</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">257</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">258</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">259</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">260</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">261</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">262</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">263</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">264</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">265</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">266</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">267</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">268</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">269</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> ValueCaster, castval, Meta
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.exceptions</span> <span style="color: #008800; font-weight: bold">import</span> StructuredError
<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">re</span>
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">typing</span> <span style="color: #008800; font-weight: bold">import</span> Dict, Any, Tuple, List
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">pathlib</span> <span style="color: #008800; font-weight: bold">import</span> Path

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">AdvancedValueProcessor</span>:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Advanced value processing with unit handling and validation."""</span>

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>unit_conversions <span style="color: #333333">=</span> {
            <span style="color: #888888"># Temperature</span>
            <span style="background-color: #fff0f0">'°F'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: (x <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">32</span>) <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">/</span><span style="color: #0000DD; font-weight: bold">9</span>,  <span style="color: #888888"># Fahrenheit to Celsius</span>
            <span style="background-color: #fff0f0">'K'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">-</span> <span style="color: #6600EE; font-weight: bold">273.15</span>,       <span style="color: #888888"># Kelvin to Celsius</span>

            <span style="color: #888888"># Pressure</span>
            <span style="background-color: #fff0f0">'psi'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #6600EE; font-weight: bold">6894.76</span>,    <span style="color: #888888"># PSI to Pa</span>
            <span style="background-color: #fff0f0">'bar'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">100000</span>,     <span style="color: #888888"># Bar to Pa</span>
            <span style="background-color: #fff0f0">'atm'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">101325</span>,     <span style="color: #888888"># Atmosphere to Pa</span>

            <span style="color: #888888"># Distance</span>
            <span style="background-color: #fff0f0">'ft'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #6600EE; font-weight: bold">0.3048</span>,      <span style="color: #888888"># Feet to meters</span>
            <span style="background-color: #fff0f0">'in'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #6600EE; font-weight: bold">0.0254</span>,      <span style="color: #888888"># Inches to meters</span>
            <span style="background-color: #fff0f0">'km'</span>: <span style="color: #008800; font-weight: bold">lambda</span> x: x <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">1000</span>,        <span style="color: #888888"># Kilometers to meters</span>
        }

        <span style="color: #007020">self</span><span style="color: #333333">.</span>target_units <span style="color: #333333">=</span> {
            <span style="background-color: #fff0f0">'temperature'</span>: <span style="background-color: #fff0f0">'°C'</span>,
            <span style="background-color: #fff0f0">'pressure'</span>: <span style="background-color: #fff0f0">'Pa'</span>,
            <span style="background-color: #fff0f0">'distance'</span>: <span style="background-color: #fff0f0">'m'</span>
        }

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">parse_value_with_unit</span>(<span style="color: #007020">self</span>, value_str: <span style="color: #007020">str</span>) <span style="color: #333333">-&gt;</span> Tuple[<span style="color: #007020">float</span>, <span style="color: #007020">str</span>]:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Parse a string containing a value and unit."""</span>

        <span style="color: #888888"># Regular expression to extract numeric value and unit</span>
        pattern <span style="color: #333333">=</span> <span style="background-color: #fff0f0">r'^([+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?)\s*(.*)$'</span>
        match <span style="color: #333333">=</span> re<span style="color: #333333">.</span>match(pattern, value_str<span style="color: #333333">.</span>strip())

        <span style="color: #008800; font-weight: bold">if</span> match:
            value_part <span style="color: #333333">=</span> match<span style="color: #333333">.</span>group(<span style="color: #0000DD; font-weight: bold">1</span>)
            unit_part <span style="color: #333333">=</span> match<span style="color: #333333">.</span>group(<span style="color: #0000DD; font-weight: bold">2</span>)<span style="color: #333333">.</span>strip()

            <span style="color: #008800; font-weight: bold">try</span>:
                numeric_value <span style="color: #333333">=</span> <span style="color: #007020">float</span>(value_part)
                <span style="color: #008800; font-weight: bold">return</span> numeric_value, unit_part
            <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">ValueError</span>:
                <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">ValueError</span>(<span style="background-color: #fff0f0">f"Cannot parse numeric value: </span><span style="background-color: #eeeeee">{</span>value_part<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">else</span>:
            <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">ValueError</span>(<span style="background-color: #fff0f0">f"Cannot parse value-unit pair: </span><span style="background-color: #eeeeee">{</span>value_str<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">convert_unit</span>(<span style="color: #007020">self</span>, value: <span style="color: #007020">float</span>, from_unit: <span style="color: #007020">str</span>, measurement_type: <span style="color: #007020">str</span>) <span style="color: #333333">-&gt;</span> Tuple[<span style="color: #007020">float</span>, <span style="color: #007020">str</span>]:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Convert a value from one unit to the target unit for the measurement type."""</span>

        target_unit <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>target_units<span style="color: #333333">.</span>get(measurement_type)
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> target_unit:
            <span style="color: #008800; font-weight: bold">return</span> value, from_unit  <span style="color: #888888"># No conversion available</span>

        <span style="color: #008800; font-weight: bold">if</span> from_unit <span style="color: #333333">==</span> target_unit:
            <span style="color: #008800; font-weight: bold">return</span> value, target_unit  <span style="color: #888888"># Already in target unit</span>

        <span style="color: #008800; font-weight: bold">if</span> from_unit <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>unit_conversions:
            converted_value <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>unit_conversions[from_unit](value)
            <span style="color: #008800; font-weight: bold">return</span> converted_value, target_unit
        <span style="color: #008800; font-weight: bold">else</span>:
            <span style="color: #888888"># Unknown unit, keep original</span>
            <span style="color: #008800; font-weight: bold">return</span> value, from_unit

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">process_measurement_values</span>(
        <span style="color: #007020">self</span>,
        measurements: Dict[<span style="color: #007020">str</span>, List[<span style="color: #007020">str</span>]],
        measurement_types: Dict[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>]
    ) <span style="color: #333333">-&gt;</span> Dict[<span style="color: #007020">str</span>, List[Dict[<span style="color: #007020">str</span>, Any]]]:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Process measurement values with unit conversion and validation."""</span>

        processed_data <span style="color: #333333">=</span> {}

        <span style="color: #008800; font-weight: bold">for</span> measurement_name, values <span style="color: #000000; font-weight: bold">in</span> measurements<span style="color: #333333">.</span>items():
            measurement_type <span style="color: #333333">=</span> measurement_types<span style="color: #333333">.</span>get(measurement_name, <span style="background-color: #fff0f0">'unknown'</span>)
            processed_values <span style="color: #333333">=</span> []

            <span style="color: #008800; font-weight: bold">for</span> value_str <span style="color: #000000; font-weight: bold">in</span> values:
                <span style="color: #008800; font-weight: bold">try</span>:
                    <span style="color: #888888"># Parse value and unit</span>
                    numeric_value, unit <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>parse_value_with_unit(value_str)

                    <span style="color: #888888"># Convert unit if possible</span>
                    converted_value, target_unit <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>convert_unit(
                        numeric_value, unit, measurement_type
                    )

                    <span style="color: #888888"># Create processed entry</span>
                    processed_entry <span style="color: #333333">=</span> {
                        <span style="background-color: #fff0f0">'original_value'</span>: value_str,
                        <span style="background-color: #fff0f0">'numeric_value'</span>: converted_value,
                        <span style="background-color: #fff0f0">'unit'</span>: target_unit,
                        <span style="background-color: #fff0f0">'original_unit'</span>: unit,
                        <span style="background-color: #fff0f0">'converted'</span>: unit <span style="color: #333333">!=</span> target_unit
                    }

                    processed_values<span style="color: #333333">.</span>append(processed_entry)

                <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
                    <span style="color: #888888"># Handle parsing errors</span>
                    processed_entry <span style="color: #333333">=</span> {
                        <span style="background-color: #fff0f0">'original_value'</span>: value_str,
                        <span style="background-color: #fff0f0">'error'</span>: <span style="color: #007020">str</span>(e),
                        <span style="background-color: #fff0f0">'numeric_value'</span>: <span style="color: #008800; font-weight: bold">None</span>,
                        <span style="background-color: #fff0f0">'unit'</span>: <span style="color: #008800; font-weight: bold">None</span>
                    }
                    processed_values<span style="color: #333333">.</span>append(processed_entry)

            processed_data[measurement_name] <span style="color: #333333">=</span> processed_values

        <span style="color: #008800; font-weight: bold">return</span> processed_data

    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">create_metadata_with_processing</span>(
        <span style="color: #007020">self</span>,
        metadef_path: Path,
        output_path: Path,
        raw_measurements: Dict[<span style="color: #007020">str</span>, List[<span style="color: #007020">str</span>]],
        measurement_types: Dict[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>],
        constant_metadata: Dict[<span style="color: #007020">str</span>, Any]
    ) <span style="color: #333333">-&gt;</span> <span style="color: #007020">bool</span>:
<span style="color: #bbbbbb">        </span><span style="color: #DD4422">"""Create metadata with advanced value processing."""</span>

        <span style="color: #008800; font-weight: bold">try</span>:
            <span style="color: #888888"># Process measurements</span>
            processed_measurements <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>process_measurement_values(
                raw_measurements, measurement_types
            )

            <span style="color: #888888"># Prepare variable metadata for Meta class</span>
            variable_metadata <span style="color: #333333">=</span> {}

            <span style="color: #008800; font-weight: bold">for</span> measurement_name, processed_values <span style="color: #000000; font-weight: bold">in</span> processed_measurements<span style="color: #333333">.</span>items():
                <span style="color: #888888"># Extract numeric values and units for metadata</span>
                numeric_values <span style="color: #333333">=</span> []
                units <span style="color: #333333">=</span> []

                <span style="color: #008800; font-weight: bold">for</span> entry <span style="color: #000000; font-weight: bold">in</span> processed_values:
                    <span style="color: #008800; font-weight: bold">if</span> entry<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'numeric_value'</span>) <span style="color: #000000; font-weight: bold">is</span> <span style="color: #000000; font-weight: bold">not</span> <span style="color: #008800; font-weight: bold">None</span>:
                        numeric_values<span style="color: #333333">.</span>append(<span style="color: #007020">str</span>(entry[<span style="background-color: #fff0f0">'numeric_value'</span>]))
                        units<span style="color: #333333">.</span>append(entry<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'unit'</span>, <span style="background-color: #fff0f0">''</span>))
                    <span style="color: #008800; font-weight: bold">else</span>:
                        numeric_values<span style="color: #333333">.</span>append(<span style="background-color: #fff0f0">''</span>)
                        units<span style="color: #333333">.</span>append(<span style="background-color: #fff0f0">''</span>)

                variable_metadata[measurement_name] <span style="color: #333333">=</span> numeric_values
                <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">any</span>(units):  <span style="color: #888888"># Add unit information if available</span>
                    variable_metadata[<span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>measurement_name<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">_unit"</span>] <span style="color: #333333">=</span> units

            <span style="color: #888888"># Create metadata using Meta class</span>
            meta <span style="color: #333333">=</span> Meta(metadef_path)

            <span style="color: #888888"># Assign constant metadata</span>
            const_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(constant_metadata)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Assigned constant metadata: </span><span style="background-color: #eeeeee">{</span>const_result[<span style="background-color: #fff0f0">'assigned'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #888888"># Assign variable metadata</span>
            var_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(variable_metadata)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Assigned variable metadata: </span><span style="background-color: #eeeeee">{</span>var_result[<span style="background-color: #fff0f0">'assigned'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #888888"># Write metadata file</span>
            output_result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>writefile(<span style="color: #007020">str</span>(output_path))
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata written to: </span><span style="background-color: #eeeeee">{</span>output_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Total assigned: </span><span style="background-color: #eeeeee">{</span><span style="color: #007020">len</span>(output_result[<span style="background-color: #fff0f0">'assigned'</span>])<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Unknown fields: </span><span style="background-color: #eeeeee">{</span>output_result[<span style="background-color: #fff0f0">'unknown'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

            <span style="color: #888888"># Create processing report</span>
            report_path <span style="color: #333333">=</span> output_path<span style="color: #333333">.</span>parent <span style="color: #333333">/</span> <span style="background-color: #fff0f0">f"</span><span style="background-color: #eeeeee">{</span>output_path<span style="color: #333333">.</span>stem<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">_processing_report.json"</span>
            processing_report <span style="color: #333333">=</span> {
                <span style="background-color: #fff0f0">'processing_summary'</span>: {
                    <span style="background-color: #fff0f0">'total_measurements'</span>: <span style="color: #007020">len</span>(raw_measurements),
                    <span style="background-color: #fff0f0">'processed_measurements'</span>: <span style="color: #007020">len</span>(processed_measurements),
                    <span style="background-color: #fff0f0">'conversion_summary'</span>: {}
                },
                <span style="background-color: #fff0f0">'detailed_processing'</span>: processed_measurements
            }

            <span style="color: #888888"># Add conversion summary</span>
            <span style="color: #008800; font-weight: bold">for</span> measurement_name, processed_values <span style="color: #000000; font-weight: bold">in</span> processed_measurements<span style="color: #333333">.</span>items():
                converted_count <span style="color: #333333">=</span> <span style="color: #007020">sum</span>(<span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #008800; font-weight: bold">for</span> entry <span style="color: #000000; font-weight: bold">in</span> processed_values <span style="color: #008800; font-weight: bold">if</span> entry<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'converted'</span>, <span style="color: #008800; font-weight: bold">False</span>))
                error_count <span style="color: #333333">=</span> <span style="color: #007020">sum</span>(<span style="color: #0000DD; font-weight: bold">1</span> <span style="color: #008800; font-weight: bold">for</span> entry <span style="color: #000000; font-weight: bold">in</span> processed_values <span style="color: #008800; font-weight: bold">if</span> <span style="background-color: #fff0f0">'error'</span> <span style="color: #000000; font-weight: bold">in</span> entry)

                processing_report[<span style="background-color: #fff0f0">'processing_summary'</span>][<span style="background-color: #fff0f0">'conversion_summary'</span>][measurement_name] <span style="color: #333333">=</span> {
                    <span style="background-color: #fff0f0">'total_values'</span>: <span style="color: #007020">len</span>(processed_values),
                    <span style="background-color: #fff0f0">'converted_values'</span>: converted_count,
                    <span style="background-color: #fff0f0">'error_values'</span>: error_count
                }

            <span style="color: #008800; font-weight: bold">with</span> <span style="color: #007020">open</span>(report_path, <span style="background-color: #fff0f0">'w'</span>, encoding<span style="color: #333333">=</span><span style="background-color: #fff0f0">'utf-8'</span>) <span style="color: #008800; font-weight: bold">as</span> f:
                <span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">json</span>
                json<span style="color: #333333">.</span>dump(processing_report, f, indent<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">2</span>, ensure_ascii<span style="color: #333333">=</span><span style="color: #008800; font-weight: bold">False</span>)

            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Processing report saved to: </span><span style="background-color: #eeeeee">{</span>report_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">True</span>

        <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Advanced processing failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>

<span style="color: #888888"># Usage example</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">demonstrate_advanced_processing</span>():
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Demonstrate advanced value processing capabilities."""</span>

    <span style="color: #888888"># Setup processor</span>
    processor <span style="color: #333333">=</span> AdvancedValueProcessor()

    <span style="color: #888888"># Sample raw measurements with various units</span>
    raw_measurements <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">'temperature'</span>: [<span style="background-color: #fff0f0">'25.5°C'</span>, <span style="background-color: #fff0f0">'78.2°F'</span>, <span style="background-color: #fff0f0">'298.15K'</span>, <span style="background-color: #fff0f0">'22.1°C'</span>],
        <span style="background-color: #fff0f0">'pressure'</span>: [<span style="background-color: #fff0f0">'1013.25hPa'</span>, <span style="background-color: #fff0f0">'14.7psi'</span>, <span style="background-color: #fff0f0">'1.01bar'</span>, <span style="background-color: #fff0f0">'101325Pa'</span>],
        <span style="background-color: #fff0f0">'distance'</span>: [<span style="background-color: #fff0f0">'150.5m'</span>, <span style="background-color: #fff0f0">'5.2ft'</span>, <span style="background-color: #fff0f0">'30.5in'</span>, <span style="background-color: #fff0f0">'0.1km'</span>],
        <span style="background-color: #fff0f0">'humidity'</span>: [<span style="background-color: #fff0f0">'65%'</span>, <span style="background-color: #fff0f0">'70%'</span>, <span style="background-color: #fff0f0">'58%'</span>, <span style="background-color: #fff0f0">'72%'</span>]
    }

    <span style="color: #888888"># Define measurement types for unit conversion</span>
    measurement_types <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">'temperature'</span>: <span style="background-color: #fff0f0">'temperature'</span>,
        <span style="background-color: #fff0f0">'pressure'</span>: <span style="background-color: #fff0f0">'pressure'</span>,
        <span style="background-color: #fff0f0">'distance'</span>: <span style="background-color: #fff0f0">'distance'</span>,
        <span style="background-color: #fff0f0">'humidity'</span>: <span style="background-color: #fff0f0">'humidity'</span>  <span style="color: #888888"># No conversion defined</span>
    }

    <span style="color: #888888"># Process measurements</span>
    processed <span style="color: #333333">=</span> processor<span style="color: #333333">.</span>process_measurement_values(raw_measurements, measurement_types)

    <span style="color: #888888"># Display processing results</span>
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"Advanced Processing Results:"</span>)
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"="</span> <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">50</span>)

    <span style="color: #008800; font-weight: bold">for</span> measurement, values <span style="color: #000000; font-weight: bold">in</span> processed<span style="color: #333333">.</span>items():
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #eeeeee">{</span>measurement<span style="color: #333333">.</span>upper()<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">:"</span>)
        <span style="color: #008800; font-weight: bold">for</span> i, entry <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">enumerate</span>(values):
            <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"  </span><span style="background-color: #eeeeee">{</span>i<span style="color: #333333">+</span><span style="color: #0000DD; font-weight: bold">1</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">. </span><span style="background-color: #eeeeee">{</span>entry[<span style="background-color: #fff0f0">'original_value'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">if</span> entry<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'error'</span>):
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"     Error: </span><span style="background-color: #eeeeee">{</span>entry[<span style="background-color: #fff0f0">'error'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
            <span style="color: #008800; font-weight: bold">else</span>:
                <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"     → </span><span style="background-color: #eeeeee">{</span>entry[<span style="background-color: #fff0f0">'numeric_value'</span>]<span style="background-color: #eeeeee">:</span><span style="background-color: #fff0f0">.2f</span><span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0"> </span><span style="background-color: #eeeeee">{</span>entry[<span style="background-color: #fff0f0">'unit'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
                <span style="color: #008800; font-weight: bold">if</span> entry<span style="color: #333333">.</span>get(<span style="background-color: #fff0f0">'converted'</span>):
                    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"     (converted from </span><span style="background-color: #eeeeee">{</span>entry[<span style="background-color: #fff0f0">'original_unit'</span>]<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">)"</span>)

    <span style="color: #888888"># Create metadata with processing</span>
    metadef_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/tasksupport/metadata-def.json"</span>)
    output_path <span style="color: #333333">=</span> Path(<span style="background-color: #fff0f0">"data/meta/advanced_metadata.json"</span>)

    constant_metadata <span style="color: #333333">=</span> {
        <span style="background-color: #fff0f0">'title'</span>: <span style="background-color: #fff0f0">'Advanced Processed Measurements'</span>,
        <span style="background-color: #fff0f0">'description'</span>: <span style="background-color: #fff0f0">'Measurements with unit conversion and validation'</span>,
        <span style="background-color: #fff0f0">'creator'</span>: <span style="background-color: #fff0f0">'Advanced Processing System'</span>,
        <span style="background-color: #fff0f0">'processing_method'</span>: <span style="background-color: #fff0f0">'unit_conversion_and_validation'</span>
    }

    success <span style="color: #333333">=</span> processor<span style="color: #333333">.</span>create_metadata_with_processing(
        metadef_path<span style="color: #333333">=</span>metadef_path,
        output_path<span style="color: #333333">=</span>output_path,
        raw_measurements<span style="color: #333333">=</span>raw_measurements,
        measurement_types<span style="color: #333333">=</span>measurement_types,
        constant_metadata<span style="color: #333333">=</span>constant_metadata
    )

    <span style="color: #008800; font-weight: bold">if</span> success:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">✅ Advanced processing completed successfully"</span>)
    <span style="color: #008800; font-weight: bold">else</span>:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">"</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">❌ Advanced processing failed"</span>)

<span style="color: #008800; font-weight: bold">if</span> <span style="color: #996633">__name__</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">"__main__"</span>:
    demonstrate_advanced_processing()
</code></pre></div></td></tr></table></div>
<h2 id="error-handling">Error Handling</h2>
<h3 id="exception-types">Exception Types</h3>
<p>The rde2util module raises <code>StructuredError</code> for various error conditions:</p>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">14</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.exceptions</span> <span style="color: #008800; font-weight: bold">import</span> StructuredError
<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">rdetoolkit.rde2util</span> <span style="color: #008800; font-weight: bold">import</span> Meta, castval

<span style="color: #888888"># Handle metadata processing errors</span>
<span style="color: #008800; font-weight: bold">try</span>:
    meta <span style="color: #333333">=</span> Meta(<span style="background-color: #fff0f0">"invalid_path.json"</span>)
<span style="color: #008800; font-weight: bold">except</span> StructuredError <span style="color: #008800; font-weight: bold">as</span> e:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Metadata initialization failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

<span style="color: #888888"># Handle value casting errors</span>
<span style="color: #008800; font-weight: bold">try</span>:
    result <span style="color: #333333">=</span> castval(<span style="background-color: #fff0f0">"invalid_number"</span>, <span style="background-color: #fff0f0">"integer"</span>, <span style="color: #008800; font-weight: bold">None</span>)
<span style="color: #008800; font-weight: bold">except</span> StructuredError <span style="color: #008800; font-weight: bold">as</span> e:
    <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Value casting failed: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
</code></pre></div></td></tr></table></div>
<h3 id="best-practices-for-error-handling">Best Practices for Error Handling</h3>
<ol>
<li>
<p><strong>Graceful Degradation</strong>:
   <div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">12</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">13</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">safe_metadata_processing</span>(metadef_path, output_path, data):
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Process metadata with graceful error handling."""</span>
    <span style="color: #008800; font-weight: bold">try</span>:
        meta <span style="color: #333333">=</span> Meta(metadef_path)
        result <span style="color: #333333">=</span> meta<span style="color: #333333">.</span>assign_vals(data)
        meta<span style="color: #333333">.</span>writefile(output_path)
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">True</span>, result
    <span style="color: #008800; font-weight: bold">except</span> StructuredError <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Structured error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>, <span style="color: #008800; font-weight: bold">None</span>
    <span style="color: #008800; font-weight: bold">except</span> <span style="color: #FF0000; font-weight: bold">Exception</span> <span style="color: #008800; font-weight: bold">as</span> e:
        <span style="color: #007020">print</span>(<span style="background-color: #fff0f0">f"Unexpected error: </span><span style="background-color: #eeeeee">{</span>e<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">False</span>, <span style="color: #008800; font-weight: bold">None</span>
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>Validation Before Processing</strong>:
   <div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">9</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">validate_before_processing</span>(metadef_path, data):
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Validate inputs before processing."""</span>
    <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> Path(metadef_path)<span style="color: #333333">.</span>exists():
        <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">FileNotFoundError</span>(<span style="background-color: #fff0f0">f"Metadata definition not found: </span><span style="background-color: #eeeeee">{</span>metadef_path<span style="background-color: #eeeeee">}</span><span style="background-color: #fff0f0">"</span>)

    <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> data:
        <span style="color: #008800; font-weight: bold">raise</span> <span style="color: #FF0000; font-weight: bold">ValueError</span>(<span style="background-color: #fff0f0">"No data provided for processing"</span>)

    <span style="color: #888888"># Additional validation...</span>
</code></pre></div></td></tr></table></div></p>
</li>
</ol>
<h2 id="performance-notes">Performance Notes</h2>
<h3 id="optimization-strategies">Optimization Strategies</h3>
<ol>
<li><strong>Encoding Detection Caching</strong>: Cache encoding detection results for frequently accessed files</li>
<li><strong>Batch Processing</strong>: Process multiple files in batches to reduce I/O overhead</li>
<li><strong>Memory Management</strong>: Use generators for large datasets to reduce memory usage</li>
<li><strong>Unit Conversion Caching</strong>: Cache unit conversion functions for repeated operations</li>
</ol>
<h3 id="performance-best-practices">Performance Best Practices</h3>
<div class="highlight" style="background: #ffffff"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 1</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 2</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 3</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 4</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 5</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 6</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 7</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 8</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;"> 9</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">10</span>
<span style="color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;">11</span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span style="color: #888888"># Efficient batch processing</span>
<span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">efficient_file_processing</span>(file_paths: List[Path]) <span style="color: #333333">-&gt;</span> Dict[<span style="color: #007020">str</span>, <span style="color: #007020">str</span>]:
<span style="color: #bbbbbb">    </span><span style="color: #DD4422">"""Efficiently process multiple files with caching."""</span>
    encoding_cache <span style="color: #333333">=</span> {}

    <span style="color: #008800; font-weight: bold">for</span> file_path <span style="color: #000000; font-weight: bold">in</span> file_paths:
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">str</span>(file_path) <span style="color: #000000; font-weight: bold">not</span> <span style="color: #000000; font-weight: bold">in</span> encoding_cache:
            encoding <span style="color: #333333">=</span> CharDecEncoding<span style="color: #333333">.</span>detect_text_file_encoding(file_path)
            encoding_cache[<span style="color: #007020">str</span>(file_path)] <span style="color: #333333">=</span> encoding

    <span style="color: #008800; font-weight: bold">return</span> encoding_cache
</code></pre></div></td></tr></table></div>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="../core.md">Core Module</a> - For directory operations and file handling</li>
<li><a href="../fileops.md">File Operations</a> - For JSON file reading and writing utilities</li>
<li><a href="../models/rde2types.md">Models - RDE2 Types</a> - For type definitions used in this module</li>
<li><a href="../models/metadata.md">Models - Metadata</a> - For metadata structure definitions</li>
<li><a href="../validation.md">Validation</a> - For metadata validation functionality</li>
<li><a href="../exceptions.md">Exceptions</a> - For StructuredError and other exception types</li>
<li><a href="../../usage/structured_process/structured.md">Usage - Structured Process</a> - For metadata processing in workflows</li>
<li><a href="../../usage/metadata_definition_file.md">Usage - Metadata Definition</a> - For metadata definition file usage</li>
</ul>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/nims-dpfc/rdetoolkit" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-consent" data-md-component="consent" hidden="" id="__consent">
<div class="md-consent__overlay"></div>
<aside class="md-consent__inner">
<form class="md-consent__form md-grid md-typeset" name="consent">
<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" id="__settings" type="checkbox"/>
<div class="md-consent__settings">
<ul class="task-list">
<li class="task-list-item">
<label class="task-list-control">
<input checked="" name="github" type="checkbox"/>
<span class="task-list-indicator"></span>
          GitHub
        </label>
</li>
</ul>
</div>
<div class="md-consent__controls">
<button class="md-button md-button--primary">Accept</button>
<label class="md-button" for="__settings">Manage settings</label>
</div>
</form>
</aside>
</div>
<script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>
</body>
</html>